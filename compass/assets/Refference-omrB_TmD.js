import{i as e,g as t,h as a,I as n,j as o,k as l,l as s,d as i,u as r,c as u,N as c,m as d,o as v,b as p,F as f,e as m,p as h,v as g,q as y,f as b,s as _,x as k,r as w,t as C,_ as S,y as B,z as x,A as z,B as V,C as $,D as A,E as I,G as E,S as R,H as T,J as D,K as M,L,M as q,O as W,P,Q as O,R as N,T as j,U as H,V as X,W as Y,X as F,Y as Q,Z as U,$ as J,a0 as K,a1 as G,a2 as Z,a3 as ee,a4 as te,a5 as ae,a6 as ne,a7 as oe,a8 as le,a9 as se,aa as ie,ab as re,ac as ue,ad as ce,ae as de,af as ve,ag as pe,ah as fe,ai as me,aj as he,ak as ge,al as ye,am as be,an as _e,ao as ke,ap as we,aq as Ce,ar as Se,as as Be,at as xe,au as ze,av as Ve,aw as $e,ax as Ae,ay as Ie,az as Ee,aA as Re,aB as Te,aC as De,aD as Me,aE as Le,aF as qe,aG as We,aH as Pe,aI as Oe,aJ as Ne,aK as je,aL as He,aM as Xe,aN as Ye,aO as Fe,aP as Qe,aQ as Ue,aR as Je,aS as Ke,aT as Ge,a as Ze,aU as et,w as tt}from"./index-I4rinyjH.js";const at=["top","bottom"],nt=["start","end","left","right"];function ot(e,t){return"start"===e?t?"right":"left":"end"===e?t?"left":"right":e}function lt(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"content";const r=t(),u=a();if(n){const e=new ResizeObserver((e=>{e.length&&(u.value="content"===i?e[0].contentRect:e[0].target.getBoundingClientRect())}));o((()=>{e.disconnect()})),l((()=>r.el),((t,a)=>{a&&(e.unobserve(a),u.value=void 0),t&&e.observe(t)}),{flush:"post"})}return{resizeRef:r,contentRect:s(u)}}const st={class:"route-container"},it={class:"controller"},rt={class:"label"},ut={style:{display:"flex"}},ct={key:0,style:{"margin-right":"7px",color:"#70D800"}},dt={class:"result"},vt={class:"route"},pt={class:"rate"},ft=S(i({__name:"Route",setup(e){const t=r(),n=u((()=>t.selectedArea)),o=a(!1),s=u((()=>t.simResult)),i=a([]);l([s,o],(()=>{if(s.value)if(!0===o.value){const e=c[n.value];i.value=s.value.sort(((e,t)=>t.rate.minus(e.rate).toNumber())).map((t=>({route:t.route.filter((t=>[d.en,d.ni,d.bo,d.ab,d.ad,d.su,d.as].includes(e[t][2]))).join(" - "),rate:t.rate.times(100).toNumber()})))}else i.value=s.value.sort(((e,t)=>t.rate.minus(e.rate).toNumber())).map((e=>({route:e.route.join(" - "),rate:e.rate.times(100).toNumber()})))}),{immediate:!0});const S=a(!1),B=()=>{var e;if(!(null==(e=i.value)?void 0:e.length))return;const t=i.value,a=Math.max(...t.map((e=>String(Math.floor(e.rate)).length))),n=Math.max(...t.map((e=>(String(e.rate).split(".")[1]||"").length))),o=t.map((e=>{const[t,o=""]=String(e.rate).split("."),l=t.padStart(a," "),s=o.padEnd(n," ");return`${s.match(/\S/g)?`${l}.${s}`:`${l} ${s}`} %: ${e.route}`})).join("\n");navigator.clipboard.writeText(o),S.value=!0,setTimeout((()=>{S.value=!1}),2e3)};return(e,t)=>(v(),p("div",st,[s.value.length>0?(v(),p(f,{key:0},[m("div",it,[m("label",rt,[h(m("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e)},null,512),[[g,o.value]]),t[1]||(t[1]=y(" 戦闘マスのみ "))]),m("div",ut,[S.value?(v(),p("span",ct," copied. ")):b("",!0),_(k,{name:"content-copy",onPointerdown:B,color:"#959594",class:"copy-icon"})])]),(v(!0),p(f,null,w(i.value,(e=>(v(),p("div",dt,[m("span",vt,C(e.route),1),m("span",pt,C(e.rate)+"%",1)])))),256))],64)):b("",!0)]))}}),[["__scopeId","data-v-3bc36fb1"]]),mt={class:"branch-container"},ht={class:"info"},gt={class:"area"},yt=["href"],bt=["href"],_t={class:"node"},kt={class:"text"},wt=["innerHTML"],Ct=S(i({__name:"Branch",setup(e){const t=r(),n=u((()=>t.selectedArea)),o=u((()=>t.branchInfo)),s=u((()=>t.branchData)),i=u((()=>t.options)),c=a({label:"",url:""}),d=a(""),h=u((()=>{if(!n.value)return"";return`https://github.com/X-20A/X-20A.github.io/blob/compass_dev/src/core/branch/world${n.value.split("-")[0]}/${n.value}.ts`})),g=a({});return l(n,(()=>{if(!n.value||!s.value||!o.value)return;const e=u((()=>{var e;if("7-3"!==n.value||!i.value)return n.value;const t=null==(e=i.value)?void 0:e[n.value];return t?n.value+"-"+t.phase:n.value})),t=s.value,a=e.value;if(!t||!a)return;const l=t[a];g.value=Object.fromEntries(Object.entries(l).map((([e,t])=>{const a=t,o=B(`${n.value}-${a}`);let l=x(a,o);return"$sw"===l&&(l="能動分岐"),[e,l]})));const{world:r,section:v}=z(n.value);let p="";if(r>7)switch(c.value.label="NGA",p="https://bbs.nga.cn/read.php?tid=",r){case 57:p+="37312153&rand=689";break;case 58:p+="39444989&rand=541";break;case 59:p+="41012551&rand=650";break;case 60:p+="43475468&rand=866";break;case 61:p+="45460478&rand=928"}else{switch(c.value.label="日wiki",p="https://wikiwiki.jp/kancolle/",r){case 1:p+="鎮守府海域";break;case 2:p+="南西諸島海域";break;case 3:p+="北方海域";break;case 4:case 7:p+="南西海域";break;case 5:p+="南方海域";break;case 6:p+="中部海域"}p+=`#area${v}`}c.value.url=p;const f=o.value[n.value];d.value=null!=f?f:"情報なし"}),{immediate:!0}),(e,t)=>(v(),p("div",mt,[n.value?(v(),p(f,{key:0},[m("div",ht,[m("p",gt,C(n.value),1),m("p",null,[t[2]||(t[2]=m("span",null,"出典: ",-1)),m("span",null,[m("a",{href:c.value.url,target:"_blank",rel:"noopener noreferrer"},C(c.value.label),9,yt),t[0]||(t[0]=y(", "))]),m("span",null,"出典元の最終更新: "+C(d.value)+", ",1),m("span",null,[t[1]||(t[1]=y("実装: ")),m("a",{href:h.value,target:"_blank",rel:"noopener noreferrer","aria-label":"分岐実装ファイルリンク"},[_(k,{name:"github",class:"github-icon"})],8,bt)])])]),m("table",null,[m("tbody",null,[(v(!0),p(f,null,w(Object.entries(g.value),(([e,t])=>(v(),p("tr",{key:e},[m("td",_t,[m("span",null,C(e),1)]),m("td",kt,[m("p",{innerHTML:t},null,8,wt)])])))),128))])])],64)):b("",!0)]))}}),[["__scopeId","data-v-ab7c0662"]]),St="No_conditions",Bt=["妙高","妙高改","妙高改二"],xt=["那智","那智改","那智改二"],zt=["羽黒","羽黒改","羽黒改二"],Vt=["長門","長門改","長門改二"],$t=["陸奥","陸奥改","陸奥改二"],At=["伊勢","伊勢改","伊勢改二"],It=["日向","日向改","日向改二"],Et=["扶桑","扶桑改","扶桑改二"],Rt=["山城","山城改","山城改二"],Tt=["高波改","高波改二","沖波改","沖波改二","朝霜改","朝霜改二"],Dt=["鳥海","鳥海改","鳥海改二"],Mt=["青葉","青葉改"],Lt=["衣笠","衣笠改","衣笠改二"],qt=["加古","加古改","加古改二"],Wt=["古鷹","古鷹改","古鷹改二"],Pt=["天龍","天龍改","天龍改二"],Ot=["夕張","夕張改","夕張改二","夕張改二丁","夕張改二特"],Nt=["夕張改二","夕張改二丁","夕張改二特"],jt=["睦月","睦月改","睦月改二"],Ht=["如月","如月改","如月改二"],Xt=["弥生","弥生改"],Yt=["卯月","卯月改"],Ft=["菊月","菊月改"],Qt=["望月","望月改"],Ut=["鵜来","鵜来改","稲木","稲木改","稲木改二"],Jt=["羽黒","羽黒改","羽黒改二"],Kt=["足柄","足柄改","足柄改二"],Gt=["妙高","妙高改","妙高改二"],Zt=["高雄","高雄改"],ea=["神風","神風改"],ta=["比叡","比叡改","比叡改二","比叡改二丙"],aa=["霧島","霧島改","霧島改二","霧島改二丙"],na={...{Bd7:{name:"南西諸島海域の制海権を握れ！",icon:"Daily",zekamashi_id:"nansei-seikaikenn",target_areas:["2-1","2-2","2-3","2-4","2-5"],condition:()=>St}},...{Bw6:{name:"敵東方艦隊を撃滅せよ！",icon:"Weekly",zekamashi_id:"touhou-quest",target_areas:["4-1","4-2","4-3","4-4","4-5"],condition:()=>St},Bw7:{name:"敵北方艦隊主力を撃滅せよ！",icon:"Weekly",zekamashi_id:"hoppou-quest",target_areas:["3-3","3-4","3-5"],condition:()=>St},Bw8:{name:"敵東方中枢艦隊を撃破せよ！",icon:"Weekly",zekamashi_id:"touhoutyuusuu",target_areas:["4-4"],condition:()=>St},Bw9:{name:"南方海域珊瑚諸島沖の制空権を握れ！",icon:"Weekly",zekamashi_id:"5-2-quest",target_areas:["5-2"],condition:()=>St},Bw10:{name:"海上輸送路の安全確保に努めよ！",icon:"Weekly",zekamashi_id:"kaizyouyusouro-1-5",target_areas:["1-5"],condition:()=>St}},...{Bm1:{name:"「第五戦隊」出撃せよ！",icon:"Monthly",zekamashi_id:"2-5-daigsentai",target_areas:["2-5"],condition:e=>{const{ship_names:t}=e;return V(Bt,t)&&V(xt,t)&&V(zt,t)}},Bm2:{name:"「潜水艦隊」出撃せよ！",icon:"Monthly",zekamashi_id:"6-1-s",target_areas:["6-1"],condition:()=>St},Bm3:{name:"「水雷戦隊」南西へ！",icon:"Monthly",zekamashi_id:"suiraisentai-nansei",target_areas:["1-4"],condition:e=>{const{CL:t,DD:a}=e.composition;return $(e)&&(1===t&&5===a||2===t&&4===a||3===t&&3===a)}},Bm4:{name:"「水上打撃部隊」南方へ！",icon:"Monthly",zekamashi_id:"5-1-suizyoudagekibutai",target_areas:["5-1"],condition:e=>{const{ship_names:t}=e,{CL:a}=e.composition;return A(e)+I(Vt,t)+I($t,t)+I(At,t)+I(It,t)+I(Et,t)+I(Rt,t)>=3&&a>=1}},Bm5:{name:"海上護衛強化月間",icon:"Monthly",zekamashi_id:"kaizyougoeikyouka",target_areas:["1-5"],condition:()=>St},Bm6:{name:"「空母機動部隊」西へ！",icon:"Monthly",zekamashi_id:"kuubokidoubutai-4-2",target_areas:["4-2"],condition:e=>{const{CVs:t,DD:a}=e.composition;return t>=2&&a>=2}},Bm7:{name:"「水上反撃部隊」突入せよ！",icon:"Monthly",zekamashi_id:"suizyouhangekibutai-totunyuu-2-5",target_areas:["2-5"],condition:e=>{const{CA:t,CL:a,DD:n}=e.composition;return E(e).type===R.DD&&1===t&&1===a&&4===n}},Bm8:{name:"兵站線確保！海上警備を強化実施せよ！",icon:"Monthly",zekamashi_id:"heitan-kaizyoukeibi",target_areas:["1-2","1-3","1-4","2-1"],condition:e=>{const{CVL:t,CL:a,CT:n,CLT:o,Ds:l}=e.composition;return t+a+n+o>=1&&l>=3}}},...{Bq1:{name:"沖ノ島海域迎撃戦",icon:"Quarterly",zekamashi_id:"2-4-s-geigekisen",target_areas:["3-1","3-2","3-3","3-4"],condition:()=>St},Bq2:{name:"戦果拡張任務！「Z作戦」前段作戦",icon:"Quarterly",zekamashi_id:"z-sakusen-zendan",target_areas:["2-4","6-1","6-3","6-4"],condition:()=>St},Bq3:{name:"強行輸送艦隊、抜錨！",icon:"Quarterly",zekamashi_id:"kyoukou-yusou",target_areas:[{area:"1-6",specific_node:"N"}],condition:e=>{const{BBV:t,AO:a}=e.composition;return t+a>=2}},Bq4:{name:"前線の航空偵察を実施せよ！",icon:"Quarterly",zekamashi_id:"zensen-koukuuteisatu",target_areas:["6-3"],condition:e=>{const{AV:t,CL:a}=e.composition;return t>=1&&a>=2}},Bq5:{name:"北方海域警備を実施せよ！",icon:"Quarterly",zekamashi_id:"hoppoukeibi",target_areas:["3-1","3-2","3-3"],condition:e=>{const{CL:t}=e.composition;return t>=1}},Bq6:{name:"精鋭「三一駆」、鉄底海域に突入せよ！",icon:"Quarterly",zekamashi_id:"naganami-kaini",target_areas:["5-4"],condition:e=>{const{ship_names:t}=e;return T(t,"長波改二")&&V(Tt,t)}},Bq7:{name:"新編成「三川艦隊」、鉄底海峡に突入せよ！",icon:"Quarterly",zekamashi_id:"sinnpen-mikawakantai",target_areas:["5-1","5-3","5-4"],condition:e=>{const{ship_names:t}=e;return I(Dt,t)+I(Mt,t)+I(Lt,t)+I(qt,t)+I(Wt,t)+I(Pt,t)+I(Ot,t)>=4}},Bq8:{name:"泊地周辺海域の安全確保を徹底せよ！",icon:"Quarterly",zekamashi_id:"hakutisyuuhen",target_areas:["1-5","7-1","7-2"],condition:()=>St},Bq9:{name:"空母戦力の投入による兵站線戦闘哨戒",icon:"Quarterly",zekamashi_id:"kuubo-tounyuu",target_areas:["1-3","1-4","2-1","2-2","2-3"],condition:e=>{const{BBV:t}=e.composition;return t>=1}},Bq10:{name:"戦果拡張任務！「Z作戦」後段作戦",icon:"Quarterly",zekamashi_id:"z-sakusen-koudan",target_areas:[{area:"7-2",specific_node:"M"},"5-5","6-2","6-5"],condition:()=>St},Bq11:{name:"南西諸島方面「海上警備行動」発令！",icon:"Quarterly",zekamashi_id:"nansei-kaizyoukeibi",target_areas:["1-4","2-1","2-2","2-3"],condition:e=>{const{CVL:t,CL:a,CT:n,CLT:o,Ds:l}=e.composition;return t+a+n+o>=1&&l>=3}},Bq12:{name:"発令！「西方海域作戦」",icon:"Quarterly",zekamashi_id:"haturei-seihou",target_areas:["4-1","4-2","4-3","4-4","4-5"],condition:()=>St},Bq13:{name:"拡張「六水戦」、最前線へ！",icon:"Quarterly",zekamashi_id:"yuubari-rokusuisen",target_areas:["5-1","5-4","6-4","6-5"],condition:e=>{const{ship_names:t}=e,a=e.fleets[0].units[0].ship.name;return T(Nt,a)&&(I(jt,t)+I(Ht,t)+I(Xt,t)+I(Yt,t)+I(Ft,t)+I(Qt,t)>=2||T(t,"由良改二"))}}},...{By13:{name:"精強「第七駆逐隊」緊急出動！",icon:"January",zekamashi_id:"dainanakutikutai-kinkyuu",target_areas:["1-2","1-3","1-5","3-2"],condition:e=>{const{ship_names:t}=e;return T(t,"朧改")&&T(t,"漣改")&&V(t,["曙改","曙改二"])&&V(t,["潮改","潮改二"])}},By1:{name:"精鋭「十九駆」、躍り出る！",icon:"February",zekamashi_id:"kaiboukan-odorideru",target_areas:["2-5","3-4","4-5","5-3"],condition:e=>{const{ship_names:t}=e;return T(t,"綾波改二")&&T(t,"敷波改二")}},By2:{name:"「海防艦」、海を護る！",icon:"February",zekamashi_id:"kaiboukan-mamoru",target_areas:["1-1","1-2","1-3","1-5",{area:"1-6",specific_node:"N"}],condition:e=>{const{DE:t}=e.composition;return t>=3}},By3:{name:"工作艦「明石」護衛任務",icon:"March",zekamashi_id:"akashi-goei",target_areas:["1-3",{area:"1-6",specific_node:"N"},"2-1","2-2","2-3"],condition:e=>{const{DD:t}=e.composition,a=E(e);return T(["明石","明石改"],a.name)&&t>=3}},By4:{name:"重巡戦隊、西へ！",icon:"March",zekamashi_id:"zyuuzyun-nishi",target_areas:["4-1","4-2","4-3","4-4"],condition:e=>{const{CA:t,DD:a}=e.composition;return t>=3&&a>=1}},By11:{name:"日英米合同水上艦隊、抜錨せよ！",icon:"May",zekamashi_id:"nitieibei-batubyou",target_areas:["3-1","3-3",{area:"7-3",specific_node:"P"},"4-3"],condition:e=>{const{CVs:t}=e.composition;return e.fleets[0].units.filter((e=>{const{national:t}=e.ship;return t===D.UK||t===D.USA})).length>=3&&0===t}},By12:{name:"精鋭「第十九駆逐隊」、全力出撃！",icon:"May",zekamashi_id:"daizyuukukutiku-zenryoku",target_areas:["1-5","2-3","3-2","5-3"],condition:e=>{const{ship_names:t}=e;return T(t,"磯波改二")&&T(t,"浦波改二")&&T(t,"綾波改二")&&T(t,"敷波改二")}},By14:{name:"鵜来型海防艦、静かな海を防衛せよ！",icon:"May",zekamashi_id:"ukurugata-bouei",target_areas:["1-1","1-2","1-5"],condition:e=>{const{DE:t}=e.composition,a=E(e),n=e.fleets[0].units.length;return T(Ut,a.name)&&n<=4&&n===t}},By6:{name:"鎮守府近海海域の哨戒を実施せよ！",icon:"June",zekamashi_id:"tinzyuhukinkai-syoukai",target_areas:["1-2","1-3","1-4"],condition:e=>{const{Ds:t}=e.composition,a=E(e),n=t-(a.type===R.DD?1:0);return M([R.CA,R.DD],a.type)&&n>=3}},By7:{name:"南西方面の兵站航路の安全を図れ！",icon:"June",zekamashi_id:"nansei-heitankouro",target_areas:["1-5",{area:"1-6",specific_node:"N"},"2-1"],condition:e=>{const{Ds:t}=e.composition,a=E(e),n=t-(a.type===R.DD?1:0);return M([R.CL,R.CT,R.DD],a.type)&&n>=3}},By8:{name:"空母機動部隊、出撃！敵艦隊を迎撃せよ！",icon:"June",zekamashi_id:"kuubokidou-geigeki",target_areas:["2-2","2-3","2-4"],condition:e=>{const{CAs:t}=e.composition,a=E(e);return L(a.type)&&t>=2}},By9:{name:"AL作戦",icon:"June",zekamashi_id:"al-sakusen-yearly",target_areas:["3-1","3-3","3-4","3-5"],condition:e=>{const{CVL:t}=e.composition;return t>=2}},By10:{name:"機動部隊決戦",icon:"June",zekamashi_id:"kidoubutai-kessen",target_areas:["5-2","5-5","6-5","6-4"],condition:e=>{const t=E(e);return L(t.type)}},By5:{name:"歴戦「第十方面艦隊」、全力出撃！",icon:"September",zekamashi_id:"rekisen-zyuhoumen",target_areas:[{area:"7-2",specific_node:"M"},{area:"7-3",specific_node:"P"},"4-2"],condition:e=>{const{ship_names:t}=e;return I(Jt,t)+I(Kt,t)+I(Gt,t)+I(Zt,t)+I(ea,t)>=2}},By15:{name:"「第三戦隊」第二小隊、鉄底海峡へ！",icon:"September",zekamashi_id:"daisansentai-dainisyoutai-tetteikaikyou",target_areas:["5-1","5-3","5-4","5-5"],condition:e=>{const{DD:t}=e.composition,{ship_names:a}=e;return V(ta,a)&&V(aa,a)&&t>=2}}}},oa=new Set(["1-1","1-2","1-3","1-4","1-5","1-6","2-1","2-2","2-3","2-4","2-5","3-1","3-2","3-3","3-4","3-5","4-1","4-2","4-3","4-4","4-5","5-1","5-2","5-3","5-4","5-5","6-1","6-2","6-3","6-4","6-5","7-1","7-2","7-3","7-4","7-5"]),la=e=>"string"==typeof e&&oa.has(e),sa=e=>la(e)?(e=>{const t=c[e],a=Object.entries(t).find((e=>e[1][2]===d.bo));if(!a)throw new Error(`${e} にボスNodeを見つけられませんでした`);return a[0]})(e):e.specific_node,ia=(e,t,a)=>{const n=(e=>({...e,"7-3":{...e["7-3"],phase:"2"}}))(a);return e.map((e=>{const a=q(t,e.area_id,n,[]),o=W(a),l=(s=o,i=e.target_node,s.reduce(((e,t)=>t.route.includes(i)?e.plus(t.rate):e),new N(0))).times(100);var s,i;return{area_id:e.area_id,reach_rate:l}}))};async function ra(e,t,a){return e.map((e=>{const n=((e,t)=>{const a=e(t);return"No_conditions"===a?"No_conditions":!P(t.fleet_type)&&!O(t.fleet_type,t.fleets[0].units.length)&&a})(e.condition,t),o=e.target_areas.map((e=>{const t=sa(e);return{area_id:la(e)?e:e.area,target_node:t}})),l=ia(o,t,a);return{name:e.name,icon:e.icon,zekamashi_id:e.zekamashi_id,composition_condition_state:n,area_sim_results:l}}))}const ua={class:"composition-condition"},ca={class:"quest-header"},da={class:"sortie-icon-wrapper"},va=["src"],pa={class:"quest-name"},fa={class:"quest-name-text"},ma=["href"],ha={class:"area-tree"},ga={class:"area-node condition-node"},ya={class:"area-text"},ba={class:"area-node summary-node"},_a={class:"area-text"},ka={class:"area-results"},wa=["onPointerdown"],Ca={class:"area-rate"},Sa={key:0},Ba=S(i({__name:"Quest",setup(e){const t=r(),n=u((()=>t.selectedArea)),o=u((()=>t.adoptFleet)),s=u((()=>t.options));function i(e){return"No_conditions"===e?"条件なし":e?"✔":"✖"}const c=Object.values(na),d=a([]);return l([n,o,s],(async()=>{n.value&&o.value&&s.value?d.value=await ra(c,o.value,s.value):d.value=[]}),{immediate:!0}),(e,a)=>(v(),p("div",ua,[a[6]||(a[6]=m("p",{class:"attention-note"},"※到達率の演算には現在の設定の能動分岐が使用されます",-1)),(v(!0),p(f,null,w(d.value,(e=>{return v(),p("div",{key:e.zekamashi_id,class:"quest-block"},[m("div",ca,[m("div",da,[a[0]||(a[0]=m("img",{src:"./quest/sortie_quest.png",class:"sortie-icon",alt:"sortie quest"},null,-1)),m("img",{src:`./quest/${e.icon}.png`,class:"sortie-overlay-icon",alt:"overlay icon"},null,8,va)]),m("p",pa,[m("span",fa,C(e.name),1)]),m("a",{href:(o=e.zekamashi_id,`https://zekamashi.net/kancolle-kouryaku/${o}`),target:"_blank",rel:"noopener noreferrer","aria-label":"ぜかましURL"},a[1]||(a[1]=[m("img",{src:"./quest/zekamashi.ico",class:"zekamashi-icon",alt:"zekamashi icon"},null,-1)]),8,ma)]),m("div",ha,[m("div",ga,[a[3]||(a[3]=m("span",{class:"tree-line"},null,-1)),m("p",ya,[a[2]||(a[2]=m("span",{class:"condition-label"},"編成条件",-1)),m("span",{class:j(["condition-state",(n=e.composition_condition_state,"No_conditions"===n?"condition-none":n?"condition-ok":"condition-ng")])},C(i(e.composition_condition_state)),3)])]),m("div",ba,[a[5]||(a[5]=m("span",{class:"tree-line"},null,-1)),m("p",_a,[a[4]||(a[4]=m("span",{class:"area-label"},"到達率",-1)),m("span",ka,[(v(!0),p(f,null,w(e.area_sim_results,((a,n)=>(v(),p(f,{key:a.area_id},[m("span",{class:"area-id",onPointerdown:e=>{return n=a.area_id,t.UPDATE_SELECTED_AREA(n),void t.SAVE_DATA();var n}},C(a.area_id),41,wa),m("span",Ca," : "+C(a.reach_rate)+"% ",1),n<e.area_sim_results.length-1?(v(),p("span",Sa," , ")):b("",!0)],64)))),128))])])])])]);var n,o})),128))]))}}),[["__scopeId","data-v-c47b7797"]]),xa=H({border:[Boolean,Number,String]},"border");function za(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X();return{borderClasses:u((()=>{const a=Y(e)?e.value:e.border,n=[];if(!0===a||""===a)n.push(`${t}--border`);else if("string"==typeof a||0===a)for(const e of String(a).split(" "))n.push(`border-${e}`);return n}))}}const Va=[null,"default","comfortable","compact"],$a=H({density:{type:String,default:"default",validator:e=>Va.includes(e)}},"density");function Aa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X();return{densityClasses:u((()=>`${t}--density-${e.density}`))}}const Ia=["elevated","flat","tonal","outlined","text","plain"];const Ea=H({color:String,variant:{type:String,default:"elevated",validator:e=>Ia.includes(e)}},"variant");const Ra=H({baseColor:String,divided:Boolean,...xa(),...U(),...$a(),...J(),...K(),...G(),...Z(),...Ea()},"VBtnGroup"),Ta=ee()({name:"VBtnGroup",props:Ra(),setup(e,t){let{slots:a}=t;const{themeClasses:n}=te(e),{densityClasses:o}=Aa(e),{borderClasses:l}=za(e),{elevationClasses:s}=ae(e),{roundedClasses:i}=ne(e);oe({VBtn:{height:"auto",baseColor:le(e,"baseColor"),color:le(e,"color"),density:le(e,"density"),flat:!0,variant:le(e,"variant")}}),se((()=>_(e.tag,{class:["v-btn-group",{"v-btn-group--divided":e.divided},n.value,l.value,o.value,s.value,i.value,e.class],style:e.style},a)))}}),Da=Symbol.for("vuetify:v-btn-toggle"),Ma=H({...Ra(),...ie()},"VBtnToggle");ee()({name:"VBtnToggle",props:Ma(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const{isSelected:n,next:o,prev:l,select:s,selected:i}=re(e,Da);return se((()=>{const t=Ta.filterProps(e);return _(Ta,ue({class:["v-btn-toggle",e.class]},t,{style:e.style}),{default:()=>{var e;return[null==(e=a.default)?void 0:e.call(a,{isSelected:n,next:o,prev:l,select:s,selected:i})]}})})),{next:o,prev:l,select:s}}});const La=H({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...U(),...ve(),...G({tag:"div"}),...Z()},"VProgressCircular"),qa=ee()({name:"VProgressCircular",props:La(),setup(e,t){let{slots:n}=t;const s=2*Math.PI*20,i=a(),{themeClasses:r}=te(e),{sizeClasses:c,sizeStyles:d}=pe(e),{textColorClasses:v,textColorStyles:p}=fe(le(e,"color")),{textColorClasses:f,textColorStyles:m}=fe(le(e,"bgColor")),{intersectionRef:h,isIntersecting:g}=function(e,t){const n=a(),s=ce(!1);if(de){const e=new IntersectionObserver((e=>{s.value=!!e.find((e=>e.isIntersecting))}),t);o((()=>{e.disconnect()})),l(n,((t,a)=>{a&&(e.unobserve(a),s.value=!1),t&&e.observe(t)}),{flush:"post"})}return{intersectionRef:n,isIntersecting:s}}(),{resizeRef:y,contentRect:b}=lt(),k=u((()=>Math.max(0,Math.min(100,parseFloat(e.modelValue))))),w=u((()=>Number(e.width))),C=u((()=>d.value?Number(e.size):b.value?b.value.width:Math.max(w.value,32))),S=u((()=>20/(1-w.value/C.value)*2)),B=u((()=>w.value/C.value*S.value)),x=u((()=>me((100-k.value)/100*s)));return he((()=>{h.value=i.value,y.value=i.value})),se((()=>_(e.tag,{ref:i,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":g.value,"v-progress-circular--disable-shrink":"disable-shrink"===e.indeterminate},r.value,c.value,v.value,e.class],style:[d.value,p.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:k.value},{default:()=>[_("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${S.value} ${S.value}`},[_("circle",{class:["v-progress-circular__underlay",f.value],style:m.value,fill:"transparent",cx:"50%",cy:"50%",r:20,"stroke-width":B.value,"stroke-dasharray":s,"stroke-dashoffset":0},null),_("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:20,"stroke-width":B.value,"stroke-dasharray":s,"stroke-dashoffset":x.value},null)]),n.default&&_("div",{class:"v-progress-circular__content"},[n.default({value:k.value})])]}))),{}}}),Wa={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},Pa=H({location:String},"location");function Oa(t){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;const{isRtl:o}=ge(),l=u((()=>{if(!t.location)return{};const{side:l,align:s}=function(t,a){let[n,o]=t.split(" ");return o||(o=e(at,n)?"start":e(nt,n)?"top":"center"),{side:ot(n,a),align:ot(o,a)}}(t.location.split(" ").length>1?t.location:`${t.location} center`,o.value);function i(e){return n?n(e):0}const r={};return"center"!==l&&(a?r[Wa[l]]=`calc(100% - ${i(l)}px)`:r[l]=0),"center"!==s?a?r[Wa[s]]=`calc(100% - ${i(s)}px)`:r[s]=0:("center"===l?r.top=r.left="50%":r[{top:"left",bottom:"left",left:"top",right:"top"}[l]]="50%",r.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[l]),r}));return{locationStyles:l}}const Na=H({loading:[Boolean,String]},"loader");const ja=["static","relative","fixed","absolute","sticky"],Ha=H({position:{type:String,validator:e=>ja.includes(e)}},"position");function Xa(e,t){var a,n;const o=ye("RouterLink"),l=u((()=>!(!e.href&&!e.to))),s=u((()=>(null==l?void 0:l.value)||be(t,"click")||be(e,"click")));if("string"==typeof o||!("useLink"in o)){const t=le(e,"href");return{isLink:l,isClickable:s,href:t,linkProps:_e({href:t})}}const i=u((()=>({...e,to:le((()=>e.to||""))}))),r=o.useLink(i.value),c=u((()=>e.to?r:void 0)),d=function(){const e=we("useRoute");return u((()=>{var t;return null==(t=null==e?void 0:e.proxy)?void 0:t.$route}))}(),v=u((()=>{var t,a,n;return!!c.value&&(e.exact?d.value?(null==(n=c.value.isExactActive)?void 0:n.value)&&ke(c.value.route.value.query,d.value.query):(null==(a=c.value.isExactActive)?void 0:a.value)??!1:(null==(t=c.value.isActive)?void 0:t.value)??!1)})),p=u((()=>{var t;return e.to?null==(t=c.value)?void 0:t.route.value.href:e.href}));return{isLink:l,isClickable:s,isActive:v,route:null==(a=c.value)?void 0:a.route,navigate:null==(n=c.value)?void 0:n.navigate,href:p,linkProps:_e({href:p,"aria-current":u((()=>v.value?"page":void 0))})}}const Ya=H({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");const Fa=H({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:Da},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:Se,appendIcon:Se,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...xa(),...U(),...$a(),...Be(),...J(),...xe(),...Na(),...Pa(),...Ha(),...K(),...Ya(),...ve(),...G({tag:"button"}),...Z(),...Ea({variant:"elevated"})},"VBtn"),Qa=ee()({name:"VBtn",props:Fa(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:a,slots:n}=t;const{themeClasses:o}=te(e),{borderClasses:s}=za(e),{densityClasses:i}=Aa(e),{dimensionStyles:r}=ze(e),{elevationClasses:c}=ae(e),{loaderClasses:d}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X();return{loaderClasses:u((()=>({[`${t}--loading`]:e.loading})))}}(e),{locationStyles:v}=Oa(e),{positionClasses:p}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X();return{positionClasses:u((()=>e.position?`${t}--${e.position}`:void 0))}}(e),{roundedClasses:m}=ne(e),{sizeClasses:g,sizeStyles:y}=pe(e),b=Ve(e,e.symbol,!1),k=Xa(e,a),w=u((()=>{var t;return void 0!==e.active?e.active:k.isLink.value?null==(t=k.isActive)?void 0:t.value:null==b?void 0:b.isSelected.value})),C=u((()=>w.value?e.activeColor??e.color:e.color)),S=u((()=>{var t,a;return{color:(null==b?void 0:b.isSelected.value)&&(!k.isLink.value||(null==(t=k.isActive)?void 0:t.value))||!b||(null==(a=k.isActive)?void 0:a.value)?C.value??e.baseColor:e.baseColor,variant:e.variant}})),{colorClasses:B,colorStyles:x,variantClasses:z}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X();const a=u((()=>{const{variant:a}=F(e);return`${t}--variant-${a}`})),{colorClasses:n,colorStyles:o}=Q(u((()=>{const{variant:t,color:a}=F(e);return{[["elevated","flat"].includes(t)?"background":"text"]:a}})));return{colorClasses:n,colorStyles:o,variantClasses:a}}(S),V=u((()=>(null==b?void 0:b.disabled.value)||e.disabled)),$=u((()=>"elevated"===e.variant&&!(e.disabled||e.flat||e.border))),A=u((()=>{if(void 0!==e.value&&"symbol"!=typeof e.value)return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value}));function I(e){var t;V.value||k.isLink.value&&(e.metaKey||e.ctrlKey||e.shiftKey||0!==e.button||"_blank"===a.target)||(null==(t=k.navigate)||t.call(k,e),null==b||b.toggle())}return function(e,t){l((()=>{var t;return null==(t=e.isActive)?void 0:t.value}),(a=>{e.isLink.value&&a&&t&&Ce((()=>{t(!0)}))}),{immediate:!0})}(k,null==b?void 0:b.select),se((()=>{const t=k.isLink.value?"a":e.tag,a=!(!e.prependIcon&&!n.prepend),l=!(!e.appendIcon&&!n.append),u=!(!e.icon||!0===e.icon);return h(_(t,ue({type:"a"===t?void 0:"button",class:["v-btn",null==b?void 0:b.selectedClass.value,{"v-btn--active":w.value,"v-btn--block":e.block,"v-btn--disabled":V.value,"v-btn--elevated":$.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--readonly":e.readonly,"v-btn--slim":e.slim,"v-btn--stacked":e.stacked},o.value,s.value,B.value,i.value,c.value,d.value,p.value,m.value,g.value,z.value,e.class],style:[x.value,r.value,v.value,y.value,e.style],"aria-busy":!!e.loading||void 0,disabled:V.value||void 0,tabindex:e.loading||e.readonly?-1:void 0,onClick:I,value:A.value},k.linkProps),{default:()=>{var t,o;return[(o="v-btn",_(f,null,[_("span",{key:"overlay",class:`${o}__overlay`},null),_("span",{key:"underlay",class:`${o}__underlay`},null)])),!e.icon&&a&&_("span",{key:"prepend",class:"v-btn__prepend"},[n.prepend?_(Ie,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},n.prepend):_(Ae,{key:"prepend-icon",icon:e.prependIcon},null)]),_("span",{class:"v-btn__content","data-no-activator":""},[!n.default&&u?_(Ae,{key:"content-icon",icon:e.icon},null):_(Ie,{key:"content-defaults",disabled:!u,defaults:{VIcon:{icon:e.icon}}},{default:()=>{var t;return[(null==(t=n.default)?void 0:t.call(n))??e.text]}})]),!e.icon&&l&&_("span",{key:"append",class:"v-btn__append"},[n.append?_(Ie,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},n.append):_(Ae,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&_("span",{key:"loader",class:"v-btn__loader"},[(null==(t=n.loader)?void 0:t.call(n))??_(qa,{color:"boolean"==typeof e.loading?void 0:e.loading,indeterminate:!0,width:"2"},null)])]}}),[[$e,!V.value&&e.ripple,"",{center:!!e.icon}]])})),{group:b}}}),Ua=Symbol("Forwarded refs");function Ja(e,t){let a=e;for(;a;){const e=Reflect.getOwnPropertyDescriptor(a,t);if(e)return e;a=Object.getPrototypeOf(a)}}const Ka=Symbol.for("vuetify:v-tabs"),Ga=H({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...Ee(Fa({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),Za=ee()({name:"VTab",props:Ga(),setup(e,t){let{slots:n,attrs:o}=t;const{textColorClasses:l,textColorStyles:s}=fe(e,"sliderColor"),i=a(),r=a(),c=u((()=>"horizontal"===e.direction)),d=u((()=>{var e,t;return(null==(t=null==(e=i.value)?void 0:e.group)?void 0:t.isSelected.value)??!1}));function v(e){var t,a;let{value:n}=e;if(n){const e=null==(a=null==(t=i.value)?void 0:t.$el.parentElement)?void 0:a.querySelector(".v-tab--selected .v-tab__slider"),n=r.value;if(!e||!n)return;const o=getComputedStyle(e).color,l=e.getBoundingClientRect(),s=n.getBoundingClientRect(),u=c.value?"x":"y",d=c.value?"X":"Y",v=c.value?"right":"bottom",p=c.value?"width":"height",f=l[u]>s[u]?l[v]-s[v]:l[u]-s[u],m=Math.sign(f)>0?c.value?"right":"bottom":Math.sign(f)<0?c.value?"left":"top":"center",h=(Math.abs(f)+(Math.sign(f)<0?l[p]:s[p]))/Math.max(l[p],s[p])||0,g=1.5;!function(e,t,a){if(void 0===e.animate)return{finished:Promise.resolve()};let n;try{n=e.animate(t,a)}catch(o){return{finished:Promise.resolve()}}void 0===n.finished&&(n.finished=new Promise((e=>{n.onfinish=()=>{e(n)}})))}(n,{backgroundColor:[o,"currentcolor"],transform:[`translate${d}(${f}px) scale${d}(${l[p]/s[p]||0})`,`translate${d}(${f/g}px) scale${d}(${(h-1)/g+1})`,"none"],transformOrigin:Array(3).fill(m)},{duration:225,easing:"cubic-bezier(0.4, 0, 0.2, 1)"})}}return se((()=>{const t=Qa.filterProps(e);return _(Qa,ue({symbol:Ka,ref:i,class:["v-tab",e.class],style:e.style,tabindex:d.value?0:-1,role:"tab","aria-selected":String(d.value),active:!1},t,o,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":v}),{...n,default:()=>{var t;return _(f,null,[(null==(t=n.default)?void 0:t.call(n))??e.text,!e.hideSlider&&_("div",{ref:r,class:["v-tab__slider",l.value],style:s.value},null)])}})})),function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return e[Ua]=a,new Proxy(e,{get(e,t){if(Reflect.has(e,t))return Reflect.get(e,t);if("symbol"!=typeof t&&!t.startsWith("$")&&!t.startsWith("__"))for(const n of a)if(n.value&&Reflect.has(n.value,t)){const e=Reflect.get(n.value,t);return"function"==typeof e?e.bind(n.value):e}},has(e,t){if(Reflect.has(e,t))return!0;if("symbol"==typeof t||t.startsWith("$")||t.startsWith("__"))return!1;for(const n of a)if(n.value&&Reflect.has(n.value,t))return!0;return!1},set(e,t,n){if(Reflect.has(e,t))return Reflect.set(e,t,n);if("symbol"==typeof t||t.startsWith("$")||t.startsWith("__"))return!1;for(const o of a)if(o.value&&Reflect.has(o.value,t))return Reflect.set(o.value,t,n);return!1},getOwnPropertyDescriptor(e,t){var n;const o=Reflect.getOwnPropertyDescriptor(e,t);if(o)return o;if("symbol"!=typeof t&&!t.startsWith("$")&&!t.startsWith("__")){for(const e of a){if(!e.value)continue;const a=Ja(e.value,t)??("_"in e.value?Ja(null==(n=e.value._)?void 0:n.setupState,t):void 0);if(a)return a}for(const e of a){const a=e.value&&e.value[Ua];if(!a)continue;const n=a.slice();for(;n.length;){const e=n.shift(),a=Ja(e.value,t);if(a)return a;const o=e.value&&e.value[Ua];o&&n.push(...o)}}}}})}({},i)}});function en(e,t){var a;const n=e.changedTouches[0];t.touchendX=n.clientX,t.touchendY=n.clientY,null==(a=t.end)||a.call(t,{originalEvent:e,...t}),(e=>{const{touchstartX:t,touchendX:a,touchstartY:n,touchendY:o}=e;e.offsetX=a-t,e.offsetY=o-n,Math.abs(e.offsetY)<.5*Math.abs(e.offsetX)&&(e.left&&a<t-16&&e.left(e),e.right&&a>t+16&&e.right(e)),Math.abs(e.offsetX)<.5*Math.abs(e.offsetY)&&(e.up&&o<n-16&&e.up(e),e.down&&o>n+16&&e.down(e))})(t)}const tn={mounted:function(e,t){var a;const n=t.value,o=(null==n?void 0:n.parent)?e.parentElement:e,l=(null==n?void 0:n.options)??{passive:!0},s=null==(a=t.instance)?void 0:a.$.uid;if(!o||!s)return;const i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:e=>function(e,t){var a;const n=e.changedTouches[0];t.touchstartX=n.clientX,t.touchstartY=n.clientY,null==(a=t.start)||a.call(t,{originalEvent:e,...t})}(e,t),touchend:e=>en(e,t),touchmove:e=>function(e,t){var a;const n=e.changedTouches[0];t.touchmoveX=n.clientX,t.touchmoveY=n.clientY,null==(a=t.move)||a.call(t,{originalEvent:e,...t})}(e,t)}}(t.value);o._touchHandlers=o._touchHandlers??Object.create(null),o._touchHandlers[s]=i,Re(i).forEach((e=>{o.addEventListener(e,i[e],l)}))},unmounted:function(e,t){var a,n;const o=(null==(a=t.value)?void 0:a.parent)?e.parentElement:e,l=null==(n=t.instance)?void 0:n.$.uid;if(!(null==o?void 0:o._touchHandlers)||!l)return;const s=o._touchHandlers[l];Re(s).forEach((e=>{o.removeEventListener(e,s[e])})),delete o._touchHandlers[l]}},an=Symbol.for("vuetify:v-window"),nn=Symbol.for("vuetify:v-window-group"),on=H({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>"boolean"==typeof e||"hover"===e},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...U(),...G(),...Z()},"VWindow"),ln=ee()({name:"VWindow",directives:{Touch:tn},props:on(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:o}=te(e),{isRtl:s}=ge(),{t:i}=Te(),r=re(e,nn),c=a(),d=u((()=>s.value?!e.reverse:e.reverse)),v=ce(!1),p=u((()=>`v-window-${"vertical"===e.direction?"y":"x"}${(d.value?!v.value:v.value)?"-reverse":""}-transition`)),f=ce(0),m=a(void 0),g=u((()=>r.items.value.findIndex((e=>r.selected.value.includes(e.id)))));l(g,((e,t)=>{const a=r.items.value.length,n=a-1;v.value=a<=2?e<t:e===n&&0===t||(0!==e||t!==n)&&e<t})),De(an,{transition:p,isReversed:v,transitionCount:f,transitionHeight:m,rootRef:c});const y=u((()=>e.continuous||0!==g.value)),b=u((()=>e.continuous||g.value!==r.items.value.length-1));function k(){y.value&&r.prev()}function w(){b.value&&r.next()}const C=u((()=>{const t=[],a={icon:s.value?e.nextIcon:e.prevIcon,class:"v-window__"+(d.value?"right":"left"),onClick:r.prev,"aria-label":i("$vuetify.carousel.prev")};t.push(y.value?n.prev?n.prev({props:a}):_(Qa,a,null):_("div",null,null));const o={icon:s.value?e.prevIcon:e.nextIcon,class:"v-window__"+(d.value?"left":"right"),onClick:r.next,"aria-label":i("$vuetify.carousel.next")};return t.push(b.value?n.next?n.next({props:o}):_(Qa,o,null):_("div",null,null)),t})),S=u((()=>{if(!1===e.touch)return e.touch;return{...{left:()=>{d.value?k():w()},right:()=>{d.value?w():k()},start:e=>{let{originalEvent:t}=e;t.stopPropagation()}},...!0===e.touch?{}:e.touch}}));return se((()=>h(_(e.tag,{ref:c,class:["v-window",{"v-window--show-arrows-on-hover":"hover"===e.showArrows},o.value,e.class],style:e.style},{default:()=>{var t,a;return[_("div",{class:"v-window__container",style:{height:m.value}},[null==(t=n.default)?void 0:t.call(n,{group:r}),!1!==e.showArrows&&_("div",{class:"v-window__controls"},[C.value])]),null==(a=n.additional)?void 0:a.call(n,{group:r})]}}),[[Me("touch"),S.value]]))),{group:r}}}),sn=H({...Ee(on(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),rn=ee()({name:"VTabsWindow",props:sn(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const n=Le(Ka,null),o=qe(e,"modelValue"),l=u({get(){var e;return null==o.value&&n?null==(e=n.items.value.find((e=>n.selected.value.includes(e.id))))?void 0:e.value:o.value},set(e){o.value=e}});return se((()=>{const t=ln.filterProps(e);return _(ln,ue({_as:"VTabsWindow"},t,{modelValue:l.value,"onUpdate:modelValue":e=>l.value=e,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),a)})),{}}});const un=(e,t)=>{let{slots:a}=t;const{transition:n,disabled:o,group:l,...s}=e,{component:i=(l?Oe:Ne),...r}="object"==typeof n?n:{};return Pe(i,ue("string"==typeof n?{name:o?"":n}:r,"string"==typeof n?{}:Object.fromEntries(Object.entries({disabled:o,group:l}).filter((e=>{let[t,a]=e;return void 0!==a}))),s),a)},cn=H({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...U(),...xe(),...je()},"VWindowItem"),dn=ee()({name:"VWindowItem",directives:{Touch:tn},props:cn(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:a}=t;const n=Le(an),o=Ve(e,nn),{isBooted:l}=function(){const e=ce(!1);return We((()=>{window.requestAnimationFrame((()=>{e.value=!0}))})),{ssrBootStyles:u((()=>e.value?void 0:{transition:"none !important"})),isBooted:s(e)}}();if(!n||!o)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const i=ce(!1),r=u((()=>l.value&&(n.isReversed.value?!1!==e.reverseTransition:!1!==e.transition)));function c(){i.value&&n&&(i.value=!1,n.transitionCount.value>0&&(n.transitionCount.value-=1,0===n.transitionCount.value&&(n.transitionHeight.value=void 0)))}function d(){var e;!i.value&&n&&(i.value=!0,0===n.transitionCount.value&&(n.transitionHeight.value=me(null==(e=n.rootRef.value)?void 0:e.clientHeight)),n.transitionCount.value+=1)}function v(){c()}function p(e){i.value&&Ce((()=>{r.value&&i.value&&n&&(n.transitionHeight.value=me(e.clientHeight))}))}const f=u((()=>{const t=n.isReversed.value?e.reverseTransition:e.transition;return!!r.value&&{name:"string"!=typeof t?n.transition.value:t,onBeforeEnter:d,onAfterEnter:c,onEnterCancelled:v,onBeforeLeave:d,onAfterLeave:c,onLeaveCancelled:v,onEnter:p}})),{hasContent:m}=He(e,o.isSelected);return se((()=>_(un,{transition:f.value,disabled:!l.value},{default:()=>{var t;return[h(_("div",{class:["v-window-item",o.selectedClass.value,e.class],style:e.style},[m.value&&(null==(t=a.default)?void 0:t.call(a))]),[[Xe,o.isSelected.value]])]}}))),{groupItem:o}}}),vn=H({...cn()},"VTabsWindowItem"),pn=ee()({name:"VTabsWindowItem",props:vn(),setup(e,t){let{slots:a}=t;return se((()=>{const t=dn.filterProps(e);return _(dn,ue({_as:"VTabsWindowItem"},t,{class:["v-tabs-window-item",e.class],style:e.style}),a)})),{}}});function fn(e,t){return(null==t?void 0:t[e?"scrollWidth":"scrollHeight"])||0}function mn(e,t,a){if(!a)return 0;const{scrollLeft:n,offsetWidth:o,scrollWidth:l}=a;return e?t?l-o+n:n:a.scrollTop}function hn(e,t){return(null==t?void 0:t[e?"offsetWidth":"offsetHeight"])||0}function gn(e,t){return(null==t?void 0:t[e?"offsetLeft":"offsetTop"])||0}const yn=Symbol.for("vuetify:v-slide-group"),bn=H({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:yn},nextIcon:{type:Se,default:"$next"},prevIcon:{type:Se,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>"boolean"==typeof e||["always","desktop","mobile"].includes(e)},...U(),...Ye({mobile:null}),...G(),...ie({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),_n=ee()({name:"VSlideGroup",props:bn(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const{isRtl:o}=ge(),{displayClasses:s,mobile:i}=Fe(e),r=re(e,e.symbol),c=ce(!1),d=ce(0),v=ce(0),p=ce(0),f=u((()=>"horizontal"===e.direction)),{resizeRef:m,contentRect:h}=lt(),{resizeRef:g,contentRect:y}=lt(),b=Qe(),k=u((()=>({container:m.el,duration:200,easing:"easeOutQuart"}))),w=u((()=>r.selected.value.length?r.items.value.findIndex((e=>e.id===r.selected.value[0])):-1)),C=u((()=>r.selected.value.length?r.items.value.findIndex((e=>e.id===r.selected.value[r.selected.value.length-1])):-1));if(n){let t=-1;l((()=>[r.selected.value,h.value,y.value,f.value]),(()=>{cancelAnimationFrame(t),t=requestAnimationFrame((()=>{if(h.value&&y.value){const e=f.value?"width":"height";v.value=h.value[e],p.value=y.value[e],c.value=v.value+1<p.value}if(w.value>=0&&g.el){B(g.el.children[C.value],e.centerActive)}}))}))}const S=ce(!1);function B(e,t){let a=0;a=t?function(e){let{selectedElement:t,containerElement:a,isHorizontal:n}=e;const o=hn(n,a);return gn(n,t)-o/2+hn(n,t)/2}({containerElement:m.el,isHorizontal:f.value,selectedElement:e}):function(e){let{selectedElement:t,containerElement:a,isRtl:n,isHorizontal:o}=e;const l=hn(o,a),s=mn(o,n,a),i=hn(o,t),r=gn(o,t),u=.4*i;return s>r?r-u:s+l<r+i?r-l+i+u:s}({containerElement:m.el,isHorizontal:f.value,isRtl:o.value,selectedElement:e}),x(a)}function x(e){if(!n||!m.el)return;const t=hn(f.value,m.el),a=mn(f.value,o.value,m.el);if(!(fn(f.value,m.el)<=t||Math.abs(e-a)<16)){if(f.value&&o.value&&m.el){const{scrollWidth:t,offsetWidth:a}=m.el;e=t-a-e}f.value?b.horizontal(e,k.value):b(e,k.value)}}function z(e){const{scrollTop:t,scrollLeft:a}=e.target;d.value=f.value?a:t}function V(e){if(S.value=!0,c.value&&g.el)for(const t of e.composedPath())for(const e of g.el.children)if(e===t)return void B(e)}function $(e){S.value=!1}let A=!1;function I(e){var t;A||S.value||e.relatedTarget&&(null==(t=g.el)?void 0:t.contains(e.relatedTarget))||T(),A=!1}function E(){A=!0}function R(e){function t(t){e.preventDefault(),T(t)}g.el&&(f.value?"ArrowRight"===e.key?t(o.value?"prev":"next"):"ArrowLeft"===e.key&&t(o.value?"next":"prev"):"ArrowDown"===e.key?t("next"):"ArrowUp"===e.key&&t("prev"),"Home"===e.key?t("first"):"End"===e.key&&t("last"))}function T(e){var t,a;if(!g.el)return;let n;if(e)if("next"===e){if(n=null==(t=g.el.querySelector(":focus"))?void 0:t.nextElementSibling,!n)return T("first")}else if("prev"===e){if(n=null==(a=g.el.querySelector(":focus"))?void 0:a.previousElementSibling,!n)return T("last")}else"first"===e?n=g.el.firstElementChild:"last"===e&&(n=g.el.lastElementChild);else{n=Je(g.el)[0]}n&&n.focus({preventScroll:!0})}function D(e){const t=f.value&&o.value?-1:1,a=("prev"===e?-t:t)*v.value;let n=d.value+a;if(f.value&&o.value&&m.el){const{scrollWidth:e,offsetWidth:t}=m.el;n+=e-t}x(n)}const M=u((()=>({next:r.next,prev:r.prev,select:r.select,isSelected:r.isSelected}))),L=u((()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!i.value;case!0:return c.value||Math.abs(d.value)>0;case"mobile":return i.value||c.value||Math.abs(d.value)>0;default:return!i.value&&(c.value||Math.abs(d.value)>0)}})),q=u((()=>Math.abs(d.value)>1)),W=u((()=>{if(!m.value)return!1;const e=fn(f.value,m.el),t=function(e,t){return(null==t?void 0:t[e?"clientWidth":"clientHeight"])||0}(f.value,m.el);return e-t-Math.abs(d.value)>1}));return se((()=>_(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!f.value,"v-slide-group--has-affixes":L.value,"v-slide-group--is-overflowing":c.value},s.value,e.class],style:e.style,tabindex:S.value||r.selected.value.length?-1:0,onFocus:I},{default:()=>{var t,n,l;return[L.value&&_("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!q.value}],onMousedown:E,onClick:()=>q.value&&D("prev")},[(null==(t=a.prev)?void 0:t.call(a,M.value))??_(Ue,null,{default:()=>[_(Ae,{icon:o.value?e.nextIcon:e.prevIcon},null)]})]),_("div",{key:"container",ref:m,class:"v-slide-group__container",onScroll:z},[_("div",{ref:g,class:"v-slide-group__content",onFocusin:V,onFocusout:$,onKeydown:R},[null==(n=a.default)?void 0:n.call(a,M.value)])]),L.value&&_("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!W.value}],onMousedown:E,onClick:()=>W.value&&D("next")},[(null==(l=a.next)?void 0:l.call(a,M.value))??_(Ue,null,{default:()=>[_(Ae,{icon:o.value?e.prevIcon:e.nextIcon},null)]})])]}}))),{selected:r.selected,scrollTo:D,scrollOffset:d,focus:T,hasPrev:q,hasNext:W}}});const kn=H({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...bn({mandatory:"force",selectedClass:"v-tab-item--selected"}),...$a(),...G()},"VTabs"),wn=ee()({name:"VTabs",props:kn(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:a,slots:n}=t;const o=qe(e,"modelValue"),l=u((()=>function(e){return e?e.map((e=>Ge(e)?e:{text:e,value:e})):[]}(e.items))),{densityClasses:s}=Aa(e),{backgroundColorClasses:i,backgroundColorStyles:r}=Ke(le(e,"bgColor")),{scopeId:c}=function(){const e=we("useScopeId").vnode.scopeId;return{scopeId:e?{[e]:""}:void 0}}();return oe({VTab:{color:le(e,"color"),direction:le(e,"direction"),stacked:le(e,"stacked"),fixed:le(e,"fixedTabs"),sliderColor:le(e,"sliderColor"),hideSlider:le(e,"hideSlider")}}),se((()=>{const t=_n.filterProps(e),u=!!(n.window||e.items.length>0);return _(f,null,[_(_n,ue(t,{modelValue:o.value,"onUpdate:modelValue":e=>o.value=e,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},s.value,i.value,e.class],style:[{"--v-tabs-height":me(e.height)},r.value,e.style],role:"tablist",symbol:Ka},c,a),{default:()=>{var e;return[(null==(e=n.default)?void 0:e.call(n))??l.value.map((e=>{var t;return(null==(t=n.tab)?void 0:t.call(n,{item:e}))??_(Za,ue(e,{key:e.text,value:e.value}),{default:n[`tab.${e.value}`]?()=>{var t;return null==(t=n[`tab.${e.value}`])?void 0:t.call(n,{item:e})}:void 0})}))]}}),u&&_(rn,ue({modelValue:o.value,"onUpdate:modelValue":e=>o.value=e,key:"tabs-window"},c),{default:()=>{var e;return[l.value.map((e=>{var t;return(null==(t=n.item)?void 0:t.call(n,{item:e}))??_(pn,{value:e.value},{default:()=>{var t;return null==(t=n[`item.${e.value}`])?void 0:t.call(n,{item:e})}})})),null==(e=n.window)?void 0:e.call(n)]}})])})),{}}}),Cn=S(i({__name:"Refference",setup(e){const t=r(),a=Ze(),n=u({get:()=>t.refferenceTabKey??"route",set:e=>{t.UPDATE_REFFERENCE_TAB_KEY(e),t.SAVE_DATA()}}),o=u((()=>a.isRefferenceVisible));return(e,t)=>o.value?(v(),p("div",{key:0,onPointerdown:t[2]||(t[2]=tt((()=>{}),["stop"])),class:"refference-container"},[_(wn,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),"align-tabs":"center","show-arrows":"",class:"tab-header",color:"#1976d2","bg-color":"primary"},{default:et((()=>[_(Za,{class:"custom-tab",value:"route"},{default:et((()=>t[3]||(t[3]=[y("経路")]))),_:1}),_(Za,{class:"custom-tab",value:"branch"},{default:et((()=>t[4]||(t[4]=[y("分岐条件")]))),_:1}),_(Za,{class:"custom-tab",value:"quest"},{default:et((()=>t[5]||(t[5]=[y("任務")]))),_:1})])),_:1},8,["modelValue"]),_(rn,{modelValue:n.value,"onUpdate:modelValue":t[1]||(t[1]=e=>n.value=e)},{default:et((()=>[_(pn,{value:"route"},{default:et((()=>[_(ft)])),_:1}),_(pn,{value:"branch"},{default:et((()=>[_(Ct)])),_:1}),_(pn,{value:"quest"},{default:et((()=>[_(Ba)])),_:1})])),_:1},8,["modelValue"])],32)):b("",!0)}}),[["__scopeId","data-v-d973f112"]]);export{Cn as default};
