import{aN as a,aO as e,aP as n,aQ as i,aR as t,aS as o,aT as s,aU as r,aV as c,aW as u,aX as l,aY as d,aZ as m,a_ as _,N as k,m as y,a$ as h,d as p,u as g,c as z,h as B,k as v,o as b,b as D,e as f,F as q,r as A,aH as C,t as M,f as Q,_ as L}from"./index-C-yDgWyR.js";const w="No_conditions",N=["妙高","妙高改","妙高改二"],V=["那智","那智改","那智改二"],W=["羽黒","羽黒改","羽黒改二"],E=["長門","長門改","長門改二"],T=["陸奥","陸奥改","陸奥改二"],Y=["伊勢","伊勢改","伊勢改二"],J=["日向","日向改","日向改二"],P=["扶桑","扶桑改","扶桑改二"],S=["山城","山城改","山城改二"],x=["高波改","高波改二","沖波改","沖波改二","朝霜改","朝霜改二"],F=["鳥海","鳥海改","鳥海改二"],U=["青葉","青葉改"],O=["衣笠","衣笠改","衣笠改二"],$=["加古","加古改","加古改二"],j=["古鷹","古鷹改","古鷹改二"],R=["天龍","天龍改","天龍改二"],Z=["夕張","夕張改","夕張改二","夕張改二丁","夕張改二特"],H=["夕張改二","夕張改二丁","夕張改二特"],I=["睦月","睦月改","睦月改二"],K=["如月","如月改","如月改二"],X=["弥生","弥生改"],G=["卯月","卯月改"],aa=["菊月","菊月改"],ea=["望月","望月改"],na=["鵜来","鵜来改","稲木","稲木改","稲木改二"],ia=["羽黒","羽黒改","羽黒改二"],ta=["足柄","足柄改","足柄改二"],oa=["妙高","妙高改","妙高改二"],sa=["高雄","高雄改"],ra=["神風","神風改"],ca=["比叡","比叡改","比叡改二","比叡改二丙"],ua=["霧島","霧島改","霧島改二","霧島改二丙"],la={Daily:"Daily",Weekly:"Weekly",Monthly:"Monthly",Quarterly:"Quarterly",January:"Yearly",February:"Yearly",March:"Yearly",May:"Yearly",June:"Yearly",September:"Yearly"},da={...{Bd7:{name:"南西諸島海域の制海権を握れ！",icon:"Daily",zekamashi_id:"nansei-seikaikenn",target_areas:["2-1","2-2","2-3","2-4","2-5"],condition:()=>w}},...{Bw6:{name:"敵東方艦隊を撃滅せよ！",icon:"Weekly",zekamashi_id:"touhou-quest",target_areas:["4-1","4-2","4-3","4-4","4-5"],condition:()=>w},Bw7:{name:"敵北方艦隊主力を撃滅せよ！",icon:"Weekly",zekamashi_id:"hoppou-quest",target_areas:["3-3","3-4","3-5"],condition:()=>w},Bw8:{name:"敵東方中枢艦隊を撃破せよ！",icon:"Weekly",zekamashi_id:"touhoutyuusuu",target_areas:["4-4"],condition:()=>w},Bw9:{name:"南方海域珊瑚諸島沖の制空権を握れ！",icon:"Weekly",zekamashi_id:"5-2-quest",target_areas:["5-2"],condition:()=>w},Bw10:{name:"海上輸送路の安全確保に努めよ！",icon:"Weekly",zekamashi_id:"kaizyouyusouro-1-5",target_areas:["1-5"],condition:()=>w}},...{Bm1:{name:"「第五戦隊」出撃せよ！",icon:"Monthly",zekamashi_id:"2-5-daigsentai",target_areas:["2-5"],condition:e=>{const{ship_names:n}=e;return a(N,n)&&a(V,n)&&a(W,n)}},Bm2:{name:"「潜水艦隊」出撃せよ！",icon:"Monthly",zekamashi_id:"6-1-s",target_areas:["6-1"],condition:()=>w},Bm3:{name:"「水雷戦隊」南西へ！",icon:"Monthly",zekamashi_id:"suiraisentai-nansei",target_areas:["1-4"],condition:a=>{const{CL:n,DD:i}=a.composition;return e(a)&&(1===n&&5===i||2===n&&4===i||3===n&&3===i)}},Bm4:{name:"「水上打撃部隊」南方へ！",icon:"Monthly",zekamashi_id:"5-1-suizyoudagekibutai",target_areas:["5-1"],condition:a=>{const{ship_names:e}=a,{CL:t}=a.composition;return n(a)+i(E,e)+i(T,e)+i(Y,e)+i(J,e)+i(P,e)+i(S,e)>=3&&t>=1}},Bm5:{name:"海上護衛強化月間",icon:"Monthly",zekamashi_id:"kaizyougoeikyouka",target_areas:["1-5"],condition:()=>w},Bm6:{name:"「空母機動部隊」西へ！",icon:"Monthly",zekamashi_id:"kuubokidoubutai-4-2",target_areas:["4-2"],condition:a=>{const{CVs:e,DD:n}=a.composition;return e>=2&&n>=2}},Bm7:{name:"「水上反撃部隊」突入せよ！",icon:"Monthly",zekamashi_id:"suizyouhangekibutai-totunyuu-2-5",target_areas:["2-5"],condition:a=>{const{CA:e,CL:n,DD:i}=a.composition;return t(a).type===o.DD&&1===e&&1===n&&4===i}},Bm8:{name:"兵站線確保！海上警備を強化実施せよ！",icon:"Monthly",zekamashi_id:"heitan-kaizyoukeibi",target_areas:["1-2","1-3","1-4","2-1"],condition:a=>{const{CVL:e,CL:n,CT:i,CLT:t,Ds:o}=a.composition;return e+n+i+t>=1&&o>=3}}},...{Bq1:{name:"沖ノ島海域迎撃戦",icon:"Quarterly",zekamashi_id:"2-4-s-geigekisen",target_areas:["3-1","3-2","3-3","3-4"],condition:()=>w},Bq2:{name:"戦果拡張任務！「Z作戦」前段作戦",icon:"Quarterly",zekamashi_id:"z-sakusen-zendan",target_areas:["2-4","6-1","6-3","6-4"],condition:()=>w},Bq3:{name:"強行輸送艦隊、抜錨！",icon:"Quarterly",zekamashi_id:"kyoukou-yusou",target_areas:[{area:"1-6",specific_node:"N"}],condition:a=>{const{BBV:e,AO:n}=a.composition;return e+n>=2}},Bq4:{name:"前線の航空偵察を実施せよ！",icon:"Quarterly",zekamashi_id:"zensen-koukuuteisatu",target_areas:["6-3"],condition:a=>{const{AV:e,CL:n}=a.composition;return e>=1&&n>=2}},Bq5:{name:"北方海域警備を実施せよ！",icon:"Quarterly",zekamashi_id:"hoppoukeibi",target_areas:["3-1","3-2","3-3"],condition:a=>{const{CL:e}=a.composition;return e>=1}},Bq6:{name:"精鋭「三一駆」、鉄底海域に突入せよ！",icon:"Quarterly",zekamashi_id:"naganami-kaini",target_areas:["5-4"],condition:e=>{const{ship_names:n}=e;return s(n,"長波改二")&&a(x,n)}},Bq7:{name:"新編成「三川艦隊」、鉄底海峡に突入せよ！",icon:"Quarterly",zekamashi_id:"sinnpen-mikawakantai",target_areas:["5-1","5-3","5-4"],condition:a=>{const{ship_names:e}=a;return i(F,e)+i(U,e)+i(O,e)+i($,e)+i(j,e)+i(R,e)+i(Z,e)>=4}},Bq8:{name:"泊地周辺海域の安全確保を徹底せよ！",icon:"Quarterly",zekamashi_id:"hakutisyuuhen",target_areas:["1-5","7-1","7-2"],condition:()=>w},Bq9:{name:"空母戦力の投入による兵站線戦闘哨戒",icon:"Quarterly",zekamashi_id:"kuubo-tounyuu",target_areas:["1-3","1-4","2-1","2-2","2-3"],condition:a=>{const{BBV:e}=a.composition;return e>=1}},Bq10:{name:"戦果拡張任務！「Z作戦」後段作戦",icon:"Quarterly",zekamashi_id:"z-sakusen-koudan",target_areas:[{area:"7-2",specific_node:"M"},"5-5","6-2","6-5"],condition:()=>w},Bq11:{name:"南西諸島方面「海上警備行動」発令！",icon:"Quarterly",zekamashi_id:"nansei-kaizyoukeibi",target_areas:["1-4","2-1","2-2","2-3"],condition:a=>{const{CVL:e,CL:n,CT:i,CLT:t,Ds:o}=a.composition;return e+n+i+t>=1&&o>=3}},Bq12:{name:"発令！「西方海域作戦」",icon:"Quarterly",zekamashi_id:"haturei-seihou",target_areas:["4-1","4-2","4-3","4-4","4-5"],condition:()=>w},Bq13:{name:"拡張「六水戦」、最前線へ！",icon:"Quarterly",zekamashi_id:"yuubari-rokusuisen",target_areas:["5-1","5-4","6-4","6-5"],condition:a=>{const{ship_names:e}=a,n=a.fleets[0].units[0].ship.name;return s(H,n)&&(i(I,e)+i(K,e)+i(X,e)+i(G,e)+i(aa,e)+i(ea,e)>=2||s(e,"由良改二"))}}},...{By13:{name:"精強「第七駆逐隊」緊急出動！",icon:"January",zekamashi_id:"dainanakutikutai-kinkyuu",target_areas:["1-2","1-3","1-5","3-2"],condition:e=>{const{ship_names:n}=e;return s(n,"朧改")&&s(n,"漣改")&&a(n,["曙改","曙改二"])&&a(n,["潮改","潮改二"])}},By1:{name:"精鋭「十九駆」、躍り出る！",icon:"February",zekamashi_id:"kaiboukan-odorideru",target_areas:["2-5","3-4","4-5","5-3"],condition:a=>{const{ship_names:e}=a;return s(e,"綾波改二")&&s(e,"敷波改二")}},By2:{name:"「海防艦」、海を護る！",icon:"February",zekamashi_id:"kaiboukan-mamoru",target_areas:["1-1","1-2","1-3","1-5",{area:"1-6",specific_node:"N"}],condition:a=>{const{DE:e}=a.composition;return e>=3}},By3:{name:"工作艦「明石」護衛任務",icon:"March",zekamashi_id:"akashi-goei",target_areas:["1-3",{area:"1-6",specific_node:"N"},"2-1","2-2","2-3"],condition:a=>{const{DD:e}=a.composition,n=t(a);return s(["明石","明石改"],n.name)&&e>=3}},By4:{name:"重巡戦隊、西へ！",icon:"March",zekamashi_id:"zyuuzyun-nishi",target_areas:["4-1","4-2","4-3","4-4"],condition:a=>{const{CA:e,DD:n}=a.composition;return e>=3&&n>=1}},By11:{name:"日英米合同水上艦隊、抜錨せよ！",icon:"May",zekamashi_id:"nitieibei-batubyou",target_areas:["3-1","3-3",{area:"7-3",specific_node:"P"},"4-3"],condition:a=>{const{CVs:e}=a.composition;return a.fleets[0].units.filter((a=>{const{national:e}=a.ship;return e===r.UK||e===r.USA})).length>=3&&0===e}},By12:{name:"精鋭「第十九駆逐隊」、全力出撃！",icon:"May",zekamashi_id:"daizyuukukutiku-zenryoku",target_areas:["1-5","2-3","3-2","5-3"],condition:a=>{const{ship_names:e}=a;return s(e,"磯波改二")&&s(e,"浦波改二")&&s(e,"綾波改二")&&s(e,"敷波改二")}},By14:{name:"鵜来型海防艦、静かな海を防衛せよ！",icon:"May",zekamashi_id:"ukurugata-bouei",target_areas:["1-1","1-2","1-5"],condition:a=>{const{DE:e}=a.composition,n=t(a),i=a.fleets[0].units.length;return s(na,n.name)&&i<=4&&i===e}},By6:{name:"鎮守府近海海域の哨戒を実施せよ！",icon:"June",zekamashi_id:"tinzyuhukinkai-syoukai",target_areas:["1-2","1-3","1-4"],condition:a=>{const{Ds:e}=a.composition,n=t(a),i=e-(n.type===o.DD?1:0);return c([o.CA,o.DD],n.type)&&i>=3}},By7:{name:"南西方面の兵站航路の安全を図れ！",icon:"June",zekamashi_id:"nansei-heitankouro",target_areas:["1-5",{area:"1-6",specific_node:"N"},"2-1"],condition:a=>{const{Ds:e}=a.composition,n=t(a),i=e-(n.type===o.DD?1:0);return c([o.CL,o.CT,o.DD],n.type)&&i>=3}},By8:{name:"空母機動部隊、出撃！敵艦隊を迎撃せよ！",icon:"June",zekamashi_id:"kuubokidou-geigeki",target_areas:["2-2","2-3","2-4"],condition:a=>{const{CAs:e}=a.composition,n=t(a);return u(n.type)&&e>=2}},By9:{name:"AL作戦",icon:"June",zekamashi_id:"al-sakusen-yearly",target_areas:["3-1","3-3","3-4","3-5"],condition:a=>{const{CVL:e}=a.composition;return e>=2}},By10:{name:"機動部隊決戦",icon:"June",zekamashi_id:"kidoubutai-kessen",target_areas:["5-2","5-5","6-5","6-4"],condition:a=>{const e=t(a);return u(e.type)}},By5:{name:"歴戦「第十方面艦隊」、全力出撃！",icon:"September",zekamashi_id:"rekisen-zyuhoumen",target_areas:[{area:"7-2",specific_node:"M"},{area:"7-3",specific_node:"P"},"4-2"],condition:a=>{const{ship_names:e}=a;return i(ia,e)+i(ta,e)+i(oa,e)+i(sa,e)+i(ra,e)>=2}},By15:{name:"「第三戦隊」第二小隊、鉄底海峡へ！",icon:"September",zekamashi_id:"daisansentai-dainisyoutai-tetteikaikyou",target_areas:["5-1","5-3","5-4","5-5"],condition:e=>{const{DD:n}=e.composition,{ship_names:i}=e;return a(ca,i)&&a(ua,i)&&n>=2}}}},ma=new Set(["1-1","1-2","1-3","1-4","1-5","1-6","2-1","2-2","2-3","2-4","2-5","3-1","3-2","3-3","3-4","3-5","4-1","4-2","4-3","4-4","4-5","5-1","5-2","5-3","5-4","5-5","6-1","6-2","6-3","6-4","6-5","7-1","7-2","7-3","7-4","7-5"]);function _a(a){return ma.has(a)}const ka=a=>"string"==typeof a&&_a(a),ya=a=>ka(a)?(a=>{const e=k[a],n=Object.entries(e).find((a=>a[1][2]===y.bo));if(!n)throw new Error(`${a} にボスNodeを見つけられませんでした`);return n[0]})(a):a.specific_node,ha=(a,e,n)=>{const i=(a=>({...a,"7-3":{...a["7-3"],phase:"2"}}))(n);return a.map((a=>{const n=l(e,a.area_id,i,[]),t=d(n),o=(s=t,r=a.target_node,s.reduce(((a,e)=>e.route.includes(r)?a.plus(e.rate):a),new h(0))).times(100);var s,r;return{area_id:a.area_id,reach_rate:o}}))};function pa(a,e,n){return a.map((a=>{const i=((a,e)=>{const n=a(e);return"No_conditions"===n?"No_conditions":!m(e.fleet_type)&&!_(e.fleet_type,e.fleets[0].units.length)&&n})(a.condition,e),t=a.target_areas.map((a=>{const e=ya(a);return{area_id:ka(a)?a:a.area,target_node:e}})),o=ha(t,e,n);return{name:a.name,icon:a.icon,zekamashi_id:a.zekamashi_id,composition_condition_state:i,area_sim_results:o}}))}const ga={class:"composition-condition"},za={class:"period-filter"},Ba=["onPointerdown"],va={class:"quest-header"},ba={class:"sortie-icon-wrapper"},Da=["src"],fa={class:"quest-name"},qa={class:"quest-name-text"},Aa=["href"],Ca={class:"area-tree"},Ma={class:"area-node condition-node"},Qa={class:"area-text"},La={class:"area-node summary-node"},wa={class:"area-text"},Na={class:"area-results"},Va=["onPointerdown"],Wa={class:"area-rate"},Ea={key:0},Ta=L(p({__name:"Quest",setup(a){const e=g(),n=z((()=>e.selectedArea)),i=z((()=>e.adoptFleet)),t=z((()=>e.options)),o=[{label:"All",value:"All"},{label:"D",value:"Daily"},{label:"W",value:"Weekly"},{label:"M",value:"Monthly"},{label:"Q",value:"Quarterly"},{label:"Y",value:"Yearly"},{label:"Area",value:"Both_Area"}],s=B("All");function r(a){return"No_conditions"===a?"条件なし":a?"✔":"✖"}const c=Object.values(da),u=B([]),l=z((()=>s.value&&"All"!==s.value&&n.value?"Both_Area"!==s.value?function(a,e){return a.filter((a=>la[a.icon]===e))}(u.value,s.value):_a(n.value)?function(a,e){return a.filter((a=>a.area_sim_results.some((a=>a.area_id===e))))}(u.value,n.value):[]:u.value));return v([n,i,t],(()=>{n.value&&i.value&&t.value?u.value=pa(c,i.value,t.value):u.value=[]}),{immediate:!0}),(a,n)=>(b(),D("div",ga,[n[6]||(n[6]=f("p",{class:"attention-note"}," ※到達率の演算には現在の設定の能動分岐が使用されます ",-1)),f("div",za,[(b(),D(q,null,A(o,(a=>f("button",{key:a.label,class:C(["period-button",{active:s.value===a.value}]),onPointerdown:e=>(a=>{s.value=s.value===a?"All":a})(a.value)},M(a.label),43,Ba))),64))]),(b(!0),D(q,null,A(l.value,(a=>{return b(),D("div",{key:a.zekamashi_id,class:"quest-block"},[f("div",va,[f("div",ba,[n[0]||(n[0]=f("img",{src:"./quest/sortie_quest.png",class:"sortie-icon",alt:"sortie quest"},null,-1)),f("img",{src:`./quest/${a.icon}.png`,class:"sortie-overlay-icon",alt:"overlay icon"},null,8,Da)]),f("p",fa,[f("span",qa,M(a.name),1)]),f("a",{href:(t=a.zekamashi_id,`https://zekamashi.net/kancolle-kouryaku/${t}`),target:"_blank",rel:"noopener noreferrer","aria-label":"ぜかましURL"},n[1]||(n[1]=[f("img",{src:"./quest/zekamashi.ico",class:"zekamashi-icon",alt:"zekamashi icon"},null,-1)]),8,Aa)]),f("div",Ca,[f("div",Ma,[n[3]||(n[3]=f("span",{class:"tree-line"},null,-1)),f("p",Qa,[n[2]||(n[2]=f("span",{class:"condition-label"},"編成条件",-1)),f("span",{class:C(["condition-state",(i=a.composition_condition_state,"No_conditions"===i?"condition-none":i?"condition-ok":"condition-ng")])},M(r(a.composition_condition_state)),3)])]),f("div",La,[n[5]||(n[5]=f("span",{class:"tree-line"},null,-1)),f("p",wa,[n[4]||(n[4]=f("span",{class:"area-label"},"到達率",-1)),f("span",Na,[(b(!0),D(q,null,A(a.area_sim_results,((n,i)=>(b(),D(q,{key:n.area_id},[f("span",{class:"area-id",onPointerdown:a=>{return i=n.area_id,e.UPDATE_SELECTED_AREA(i),void e.SAVE_DATA();var i}},M(n.area_id),41,Va),f("span",Wa," : "+M(n.reach_rate)+"% ",1),i<a.area_sim_results.length-1?(b(),D("span",Ea," , ")):Q("",!0)],64)))),128))])])])])]);var i,t})),128))]))}}),[["__scopeId","data-v-15b7bb6e"]]);export{Ta as default};
