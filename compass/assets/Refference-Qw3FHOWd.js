import{i as e,g as t,h as a,I as n,j as l,k as o,l as s,d as i,u as r,c as u,N as c,m as d,o as v,b as p,e as f,F as m,p as h,v as y,q as g,f as b,s as _,x as k,r as w,t as C,_ as B,y as S,z as x,A as z,B as V,C as A,D as $,E as I,G as E,S as R,H as T,J as M,K as D,L as W,M as L,O as q,P,Q as O,R as N,T as Y,U as j,V as H,W as Q,X,Y as F,Z as U,$ as J,a0 as K,a1 as G,a2 as Z,a3 as ee,a4 as te,a5 as ae,a6 as ne,a7 as le,a8 as oe,a9 as se,aa as ie,ab as re,ac as ue,ad as ce,ae as de,af as ve,ag as pe,ah as fe,ai as me,aj as he,ak as ye,al as ge,am as be,an as _e,ao as ke,ap as we,aq as Ce,ar as Be,as as Se,at as xe,au as ze,av as Ve,aw as Ae,ax as $e,ay as Ie,az as Ee,aA as Re,aB as Te,aC as Me,aD as De,aE as We,aF as Le,aG as qe,aH as Pe,aI as Oe,aJ as Ne,aK as Ye,aL as je,aM as He,aN as Qe,aO as Xe,aP as Fe,aQ as Ue,aR as Je,aS as Ke,aT as Ge,a as Ze,aU as et,w as tt}from"./index-DCrxSkOm.js";const at=["top","bottom"],nt=["start","end","left","right"];function lt(e,t){return"start"===e?t?"right":"left":"end"===e?t?"left":"right":e}function ot(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"content";const r=t(),u=a();if(n){const e=new ResizeObserver((e=>{e.length&&(u.value="content"===i?e[0].contentRect:e[0].target.getBoundingClientRect())}));l((()=>{e.disconnect()})),o((()=>r.el),((t,a)=>{a&&(e.unobserve(a),u.value=void 0),t&&e.observe(t)}),{flush:"post"})}return{resizeRef:r,contentRect:s(u)}}const st={class:"route-container"},it={class:"controller"},rt={class:"label"},ut={style:{display:"flex"}},ct={key:0,style:{"margin-right":"7px",color:"#70D800"}},dt={class:"result"},vt={class:"route"},pt={class:"rate"},ft=B(i({__name:"Route",setup(e){const t=r(),n=u((()=>t.selectedArea)),l=a(!1),s=u((()=>t.simResult)),i=a([]);o([s,l],(()=>{if(s.value)if(!0===l.value){const e=c[n.value];i.value=s.value.sort(((e,t)=>t.rate.minus(e.rate).toNumber())).map((t=>({route:t.route.filter((t=>[d.en,d.ni,d.bo,d.ab,d.ad,d.su,d.as].includes(e[t][2]))).join(" - "),rate:t.rate.times(100).toNumber()})))}else i.value=s.value.sort(((e,t)=>t.rate.minus(e.rate).toNumber())).map((e=>({route:e.route.join(" - "),rate:e.rate.times(100).toNumber()})))}),{immediate:!0});const B=a(!1),S=()=>{var e;if(!(null==(e=i.value)?void 0:e.length))return;const t=i.value,a=Math.max(...t.map((e=>String(Math.floor(e.rate)).length))),n=Math.max(...t.map((e=>(String(e.rate).split(".")[1]||"").length))),l=t.map((e=>{const[t,l=""]=String(e.rate).split("."),o=t.padStart(a," "),s=l.padEnd(n," ");return`${s.match(/\S/g)?`${o}.${s}`:`${o} ${s}`} %: ${e.route}`})).join("\n");navigator.clipboard.writeText(l),B.value=!0,setTimeout((()=>{B.value=!1}),2e3)};return(e,t)=>(v(),p(m,null,[f("div",st,[s.value.length>0?(v(),p(m,{key:0},[f("div",it,[f("label",rt,[h(f("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=e=>l.value=e)},null,512),[[y,l.value]]),t[1]||(t[1]=g(" 戦闘マスのみ "))]),f("div",ut,[B.value?(v(),p("span",ct," copied. ")):b("",!0),_(k,{name:"content-copy",onPointerdown:S,color:"#959594",class:"copy-icon"})])]),(v(!0),p(m,null,w(i.value,(e=>(v(),p("div",dt,[f("span",vt,C(e.route),1),f("span",pt,C(e.rate)+"%",1)])))),256))],64)):b("",!0)]),t[2]||(t[2]=g("nyo~ "))],64))}}),[["__scopeId","data-v-221101be"]]),mt={class:"branch-container"},ht={class:"info"},yt={class:"area"},gt=["href"],bt=["href"],_t={class:"node"},kt={class:"text"},wt=["innerHTML"],Ct=B(i({__name:"Branch",setup(e){const t=r(),n=u((()=>t.selectedArea)),l=u((()=>t.branchInfo)),s=u((()=>t.branchData)),i=u((()=>t.options)),c=a({label:"",url:""}),d=a(""),h=u((()=>{if(!n.value)return"";return`https://github.com/X-20A/X-20A.github.io/blob/compass_dev/src/core/branch/world${n.value.split("-")[0]}/${n.value}.ts`})),y=a({});return o(n,(()=>{if(!n.value||!s.value||!l.value)return;const e=u((()=>{var e;if("7-3"!==n.value||!i.value)return n.value;const t=null==(e=i.value)?void 0:e[n.value];return t?n.value+"-"+t.phase:n.value})),t=s.value,a=e.value;if(!t||!a)return;const o=t[a];y.value=Object.fromEntries(Object.entries(o).map((([e,t])=>{const a=t,l=S(`${n.value}-${a}`);let o=x(a,l);return"$sw"===o&&(o="能動分岐"),[e,o]})));const{world:r,section:v}=z(n.value);let p="";if(r>7)switch(c.value.label="NGA",p="https://bbs.nga.cn/read.php?tid=",r){case 57:p+="37312153&rand=689";break;case 58:p+="39444989&rand=541";break;case 59:p+="41012551&rand=650";break;case 60:p+="43475468&rand=866";break;case 61:p+="45460478&rand=928"}else{switch(c.value.label="日wiki",p="https://wikiwiki.jp/kancolle/",r){case 1:p+="鎮守府海域";break;case 2:p+="南西諸島海域";break;case 3:p+="北方海域";break;case 4:case 7:p+="南西海域";break;case 5:p+="南方海域";break;case 6:p+="中部海域"}p+=`#area${v}`}c.value.url=p;const f=l.value[n.value];d.value=null!=f?f:"情報なし"}),{immediate:!0}),(e,t)=>(v(),p("div",mt,[n.value?(v(),p(m,{key:0},[f("div",ht,[f("p",yt,C(n.value),1),f("p",null,[t[2]||(t[2]=f("span",null,"出典: ",-1)),f("span",null,[f("a",{href:c.value.url,target:"_blank",rel:"noopener noreferrer"},C(c.value.label),9,gt),t[0]||(t[0]=g(", "))]),f("span",null,"出典元の最終更新: "+C(d.value)+", ",1),f("span",null,[t[1]||(t[1]=g("実装: ")),f("a",{href:h.value,target:"_blank",rel:"noopener noreferrer","aria-label":"分岐実装ファイルリンク"},[_(k,{name:"github",class:"github-icon"})],8,bt)])])]),f("table",null,[f("tbody",null,[(v(!0),p(m,null,w(Object.entries(y.value),(([e,t])=>(v(),p("tr",{key:e},[f("td",_t,[f("span",null,C(e),1)]),f("td",kt,[f("p",{innerHTML:t},null,8,wt)])])))),128))])])],64)):b("",!0)]))}}),[["__scopeId","data-v-ab7c0662"]]),Bt="No_conditions",St=["妙高","妙高改","妙高改二"],xt=["那智","那智改","那智改二"],zt=["羽黒","羽黒改","羽黒改二"],Vt=["長門","長門改","長門改二"],At=["陸奥","陸奥改","陸奥改二"],$t=["伊勢","伊勢改","伊勢改二"],It=["日向","日向改","日向改二"],Et=["扶桑","扶桑改","扶桑改二"],Rt=["山城","山城改","山城改二"],Tt=["高波改","高波改二","沖波改","沖波改二","朝霜改","朝霜改二"],Mt=["鳥海","鳥海改","鳥海改二"],Dt=["青葉","青葉改"],Wt=["衣笠","衣笠改","衣笠改二"],Lt=["加古","加古改","加古改二"],qt=["古鷹","古鷹改","古鷹改二"],Pt=["天龍","天龍改","天龍改二"],Ot=["夕張","夕張改","夕張改二","夕張改二丁","夕張改二特"],Nt=["夕張改二","夕張改二丁","夕張改二特"],Yt=["睦月","睦月改","睦月改二"],jt=["如月","如月改","如月改二"],Ht=["弥生","弥生改"],Qt=["卯月","卯月改"],Xt=["菊月","菊月改"],Ft=["望月","望月改"],Ut=["鵜来","鵜来改","稲木","稲木改","稲木改二"],Jt=["羽黒","羽黒改","羽黒改二"],Kt=["足柄","足柄改","足柄改二"],Gt=["妙高","妙高改","妙高改二"],Zt=["高雄","高雄改"],ea=["神風","神風改"],ta=["比叡","比叡改","比叡改二","比叡改二丙"],aa=["霧島","霧島改","霧島改二","霧島改二丙"],na={Daily:"Daily",Weekly:"Weekly",Monthly:"Monthly",Quarterly:"Quarterly",January:"Yearly",February:"Yearly",March:"Yearly",May:"Yearly",June:"Yearly",September:"Yearly"},la={...{Bd7:{name:"南西諸島海域の制海権を握れ！",icon:"Daily",zekamashi_id:"nansei-seikaikenn",target_areas:["2-1","2-2","2-3","2-4","2-5"],condition:()=>Bt}},...{Bw6:{name:"敵東方艦隊を撃滅せよ！",icon:"Weekly",zekamashi_id:"touhou-quest",target_areas:["4-1","4-2","4-3","4-4","4-5"],condition:()=>Bt},Bw7:{name:"敵北方艦隊主力を撃滅せよ！",icon:"Weekly",zekamashi_id:"hoppou-quest",target_areas:["3-3","3-4","3-5"],condition:()=>Bt},Bw8:{name:"敵東方中枢艦隊を撃破せよ！",icon:"Weekly",zekamashi_id:"touhoutyuusuu",target_areas:["4-4"],condition:()=>Bt},Bw9:{name:"南方海域珊瑚諸島沖の制空権を握れ！",icon:"Weekly",zekamashi_id:"5-2-quest",target_areas:["5-2"],condition:()=>Bt},Bw10:{name:"海上輸送路の安全確保に努めよ！",icon:"Weekly",zekamashi_id:"kaizyouyusouro-1-5",target_areas:["1-5"],condition:()=>Bt}},...{Bm1:{name:"「第五戦隊」出撃せよ！",icon:"Monthly",zekamashi_id:"2-5-daigsentai",target_areas:["2-5"],condition:e=>{const{ship_names:t}=e;return V(St,t)&&V(xt,t)&&V(zt,t)}},Bm2:{name:"「潜水艦隊」出撃せよ！",icon:"Monthly",zekamashi_id:"6-1-s",target_areas:["6-1"],condition:()=>Bt},Bm3:{name:"「水雷戦隊」南西へ！",icon:"Monthly",zekamashi_id:"suiraisentai-nansei",target_areas:["1-4"],condition:e=>{const{CL:t,DD:a}=e.composition;return A(e)&&(1===t&&5===a||2===t&&4===a||3===t&&3===a)}},Bm4:{name:"「水上打撃部隊」南方へ！",icon:"Monthly",zekamashi_id:"5-1-suizyoudagekibutai",target_areas:["5-1"],condition:e=>{const{ship_names:t}=e,{CL:a}=e.composition;return $(e)+I(Vt,t)+I(At,t)+I($t,t)+I(It,t)+I(Et,t)+I(Rt,t)>=3&&a>=1}},Bm5:{name:"海上護衛強化月間",icon:"Monthly",zekamashi_id:"kaizyougoeikyouka",target_areas:["1-5"],condition:()=>Bt},Bm6:{name:"「空母機動部隊」西へ！",icon:"Monthly",zekamashi_id:"kuubokidoubutai-4-2",target_areas:["4-2"],condition:e=>{const{CVs:t,DD:a}=e.composition;return t>=2&&a>=2}},Bm7:{name:"「水上反撃部隊」突入せよ！",icon:"Monthly",zekamashi_id:"suizyouhangekibutai-totunyuu-2-5",target_areas:["2-5"],condition:e=>{const{CA:t,CL:a,DD:n}=e.composition;return E(e).type===R.DD&&1===t&&1===a&&4===n}},Bm8:{name:"兵站線確保！海上警備を強化実施せよ！",icon:"Monthly",zekamashi_id:"heitan-kaizyoukeibi",target_areas:["1-2","1-3","1-4","2-1"],condition:e=>{const{CVL:t,CL:a,CT:n,CLT:l,Ds:o}=e.composition;return t+a+n+l>=1&&o>=3}}},...{Bq1:{name:"沖ノ島海域迎撃戦",icon:"Quarterly",zekamashi_id:"2-4-s-geigekisen",target_areas:["3-1","3-2","3-3","3-4"],condition:()=>Bt},Bq2:{name:"戦果拡張任務！「Z作戦」前段作戦",icon:"Quarterly",zekamashi_id:"z-sakusen-zendan",target_areas:["2-4","6-1","6-3","6-4"],condition:()=>Bt},Bq3:{name:"強行輸送艦隊、抜錨！",icon:"Quarterly",zekamashi_id:"kyoukou-yusou",target_areas:[{area:"1-6",specific_node:"N"}],condition:e=>{const{BBV:t,AO:a}=e.composition;return t+a>=2}},Bq4:{name:"前線の航空偵察を実施せよ！",icon:"Quarterly",zekamashi_id:"zensen-koukuuteisatu",target_areas:["6-3"],condition:e=>{const{AV:t,CL:a}=e.composition;return t>=1&&a>=2}},Bq5:{name:"北方海域警備を実施せよ！",icon:"Quarterly",zekamashi_id:"hoppoukeibi",target_areas:["3-1","3-2","3-3"],condition:e=>{const{CL:t}=e.composition;return t>=1}},Bq6:{name:"精鋭「三一駆」、鉄底海域に突入せよ！",icon:"Quarterly",zekamashi_id:"naganami-kaini",target_areas:["5-4"],condition:e=>{const{ship_names:t}=e;return T(t,"長波改二")&&V(Tt,t)}},Bq7:{name:"新編成「三川艦隊」、鉄底海峡に突入せよ！",icon:"Quarterly",zekamashi_id:"sinnpen-mikawakantai",target_areas:["5-1","5-3","5-4"],condition:e=>{const{ship_names:t}=e;return I(Mt,t)+I(Dt,t)+I(Wt,t)+I(Lt,t)+I(qt,t)+I(Pt,t)+I(Ot,t)>=4}},Bq8:{name:"泊地周辺海域の安全確保を徹底せよ！",icon:"Quarterly",zekamashi_id:"hakutisyuuhen",target_areas:["1-5","7-1","7-2"],condition:()=>Bt},Bq9:{name:"空母戦力の投入による兵站線戦闘哨戒",icon:"Quarterly",zekamashi_id:"kuubo-tounyuu",target_areas:["1-3","1-4","2-1","2-2","2-3"],condition:e=>{const{BBV:t}=e.composition;return t>=1}},Bq10:{name:"戦果拡張任務！「Z作戦」後段作戦",icon:"Quarterly",zekamashi_id:"z-sakusen-koudan",target_areas:[{area:"7-2",specific_node:"M"},"5-5","6-2","6-5"],condition:()=>Bt},Bq11:{name:"南西諸島方面「海上警備行動」発令！",icon:"Quarterly",zekamashi_id:"nansei-kaizyoukeibi",target_areas:["1-4","2-1","2-2","2-3"],condition:e=>{const{CVL:t,CL:a,CT:n,CLT:l,Ds:o}=e.composition;return t+a+n+l>=1&&o>=3}},Bq12:{name:"発令！「西方海域作戦」",icon:"Quarterly",zekamashi_id:"haturei-seihou",target_areas:["4-1","4-2","4-3","4-4","4-5"],condition:()=>Bt},Bq13:{name:"拡張「六水戦」、最前線へ！",icon:"Quarterly",zekamashi_id:"yuubari-rokusuisen",target_areas:["5-1","5-4","6-4","6-5"],condition:e=>{const{ship_names:t}=e,a=e.fleets[0].units[0].ship.name;return T(Nt,a)&&(I(Yt,t)+I(jt,t)+I(Ht,t)+I(Qt,t)+I(Xt,t)+I(Ft,t)>=2||T(t,"由良改二"))}}},...{By13:{name:"精強「第七駆逐隊」緊急出動！",icon:"January",zekamashi_id:"dainanakutikutai-kinkyuu",target_areas:["1-2","1-3","1-5","3-2"],condition:e=>{const{ship_names:t}=e;return T(t,"朧改")&&T(t,"漣改")&&V(t,["曙改","曙改二"])&&V(t,["潮改","潮改二"])}},By1:{name:"精鋭「十九駆」、躍り出る！",icon:"February",zekamashi_id:"kaiboukan-odorideru",target_areas:["2-5","3-4","4-5","5-3"],condition:e=>{const{ship_names:t}=e;return T(t,"綾波改二")&&T(t,"敷波改二")}},By2:{name:"「海防艦」、海を護る！",icon:"February",zekamashi_id:"kaiboukan-mamoru",target_areas:["1-1","1-2","1-3","1-5",{area:"1-6",specific_node:"N"}],condition:e=>{const{DE:t}=e.composition;return t>=3}},By3:{name:"工作艦「明石」護衛任務",icon:"March",zekamashi_id:"akashi-goei",target_areas:["1-3",{area:"1-6",specific_node:"N"},"2-1","2-2","2-3"],condition:e=>{const{DD:t}=e.composition,a=E(e);return T(["明石","明石改"],a.name)&&t>=3}},By4:{name:"重巡戦隊、西へ！",icon:"March",zekamashi_id:"zyuuzyun-nishi",target_areas:["4-1","4-2","4-3","4-4"],condition:e=>{const{CA:t,DD:a}=e.composition;return t>=3&&a>=1}},By11:{name:"日英米合同水上艦隊、抜錨せよ！",icon:"May",zekamashi_id:"nitieibei-batubyou",target_areas:["3-1","3-3",{area:"7-3",specific_node:"P"},"4-3"],condition:e=>{const{CVs:t}=e.composition;return e.fleets[0].units.filter((e=>{const{national:t}=e.ship;return t===M.UK||t===M.USA})).length>=3&&0===t}},By12:{name:"精鋭「第十九駆逐隊」、全力出撃！",icon:"May",zekamashi_id:"daizyuukukutiku-zenryoku",target_areas:["1-5","2-3","3-2","5-3"],condition:e=>{const{ship_names:t}=e;return T(t,"磯波改二")&&T(t,"浦波改二")&&T(t,"綾波改二")&&T(t,"敷波改二")}},By14:{name:"鵜来型海防艦、静かな海を防衛せよ！",icon:"May",zekamashi_id:"ukurugata-bouei",target_areas:["1-1","1-2","1-5"],condition:e=>{const{DE:t}=e.composition,a=E(e),n=e.fleets[0].units.length;return T(Ut,a.name)&&n<=4&&n===t}},By6:{name:"鎮守府近海海域の哨戒を実施せよ！",icon:"June",zekamashi_id:"tinzyuhukinkai-syoukai",target_areas:["1-2","1-3","1-4"],condition:e=>{const{Ds:t}=e.composition,a=E(e),n=t-(a.type===R.DD?1:0);return D([R.CA,R.DD],a.type)&&n>=3}},By7:{name:"南西方面の兵站航路の安全を図れ！",icon:"June",zekamashi_id:"nansei-heitankouro",target_areas:["1-5",{area:"1-6",specific_node:"N"},"2-1"],condition:e=>{const{Ds:t}=e.composition,a=E(e),n=t-(a.type===R.DD?1:0);return D([R.CL,R.CT,R.DD],a.type)&&n>=3}},By8:{name:"空母機動部隊、出撃！敵艦隊を迎撃せよ！",icon:"June",zekamashi_id:"kuubokidou-geigeki",target_areas:["2-2","2-3","2-4"],condition:e=>{const{CAs:t}=e.composition,a=E(e);return W(a.type)&&t>=2}},By9:{name:"AL作戦",icon:"June",zekamashi_id:"al-sakusen-yearly",target_areas:["3-1","3-3","3-4","3-5"],condition:e=>{const{CVL:t}=e.composition;return t>=2}},By10:{name:"機動部隊決戦",icon:"June",zekamashi_id:"kidoubutai-kessen",target_areas:["5-2","5-5","6-5","6-4"],condition:e=>{const t=E(e);return W(t.type)}},By5:{name:"歴戦「第十方面艦隊」、全力出撃！",icon:"September",zekamashi_id:"rekisen-zyuhoumen",target_areas:[{area:"7-2",specific_node:"M"},{area:"7-3",specific_node:"P"},"4-2"],condition:e=>{const{ship_names:t}=e;return I(Jt,t)+I(Kt,t)+I(Gt,t)+I(Zt,t)+I(ea,t)>=2}},By15:{name:"「第三戦隊」第二小隊、鉄底海峡へ！",icon:"September",zekamashi_id:"daisansentai-dainisyoutai-tetteikaikyou",target_areas:["5-1","5-3","5-4","5-5"],condition:e=>{const{DD:t}=e.composition,{ship_names:a}=e;return V(ta,a)&&V(aa,a)&&t>=2}}}},oa=new Set(["1-1","1-2","1-3","1-4","1-5","1-6","2-1","2-2","2-3","2-4","2-5","3-1","3-2","3-3","3-4","3-5","4-1","4-2","4-3","4-4","4-5","5-1","5-2","5-3","5-4","5-5","6-1","6-2","6-3","6-4","6-5","7-1","7-2","7-3","7-4","7-5"]);function sa(e){return oa.has(e)}const ia=e=>"string"==typeof e&&sa(e),ra=e=>ia(e)?(e=>{const t=c[e],a=Object.entries(t).find((e=>e[1][2]===d.bo));if(!a)throw new Error(`${e} にボスNodeを見つけられませんでした`);return a[0]})(e):e.specific_node,ua=(e,t,a)=>{const n=(e=>({...e,"7-3":{...e["7-3"],phase:"2"}}))(a);return e.map((e=>{const a=L(t,e.area_id,n,[]),l=q(a),o=(s=l,i=e.target_node,s.reduce(((e,t)=>t.route.includes(i)?e.plus(t.rate):e),new N(0))).times(100);var s,i;return{area_id:e.area_id,reach_rate:o}}))};function ca(e,t,a){return e.map((e=>{const n=((e,t)=>{const a=e(t);return"No_conditions"===a?"No_conditions":!P(t.fleet_type)&&!O(t.fleet_type,t.fleets[0].units.length)&&a})(e.condition,t),l=e.target_areas.map((e=>{const t=ra(e);return{area_id:ia(e)?e:e.area,target_node:t}})),o=ua(l,t,a);return{name:e.name,icon:e.icon,zekamashi_id:e.zekamashi_id,composition_condition_state:n,area_sim_results:o}}))}const da={class:"composition-condition"},va={class:"period-filter"},pa=["onPointerdown"],fa={class:"quest-header"},ma={class:"sortie-icon-wrapper"},ha=["src"],ya={class:"quest-name"},ga={class:"quest-name-text"},ba=["href"],_a={class:"area-tree"},ka={class:"area-node condition-node"},wa={class:"area-text"},Ca={class:"area-node summary-node"},Ba={class:"area-text"},Sa={class:"area-results"},xa=["onPointerdown"],za={class:"area-rate"},Va={key:0},Aa=B(i({__name:"Quest",setup(e){const t=r(),n=u((()=>t.selectedArea)),l=u((()=>t.adoptFleet)),s=u((()=>t.options)),i=[{label:"All",value:"All"},{label:"D",value:"Daily"},{label:"W",value:"Weekly"},{label:"M",value:"Monthly"},{label:"Q",value:"Quarterly"},{label:"Y",value:"Yearly"},{label:"Area",value:"Both_Area"}],c=a("All");function d(e){return"No_conditions"===e?"条件なし":e?"✔":"✖"}const h=Object.values(la),y=a([]),g=u((()=>c.value&&"All"!==c.value&&n.value?"Both_Area"!==c.value?function(e,t){return e.filter((e=>na[e.icon]===t))}(y.value,c.value):sa(n.value)?function(e,t){return e.filter((e=>e.area_sim_results.some((e=>e.area_id===t))))}(y.value,n.value):[]:y.value));return o([n,l,s],(()=>{n.value&&l.value&&s.value?y.value=ca(h,l.value,s.value):y.value=[]}),{immediate:!0}),(e,a)=>(v(),p("div",da,[a[6]||(a[6]=f("p",{class:"attention-note"}," ※到達率の演算には現在の設定の能動分岐が使用されます ",-1)),f("div",va,[(v(),p(m,null,w(i,(e=>f("button",{key:e.label,class:Y(["period-button",{active:c.value===e.value}]),onPointerdown:t=>(e=>{c.value=c.value===e?"All":e})(e.value)},C(e.label),43,pa))),64))]),(v(!0),p(m,null,w(g.value,(e=>{return v(),p("div",{key:e.zekamashi_id,class:"quest-block"},[f("div",fa,[f("div",ma,[a[0]||(a[0]=f("img",{src:"./quest/sortie_quest.png",class:"sortie-icon",alt:"sortie quest"},null,-1)),f("img",{src:`./quest/${e.icon}.png`,class:"sortie-overlay-icon",alt:"overlay icon"},null,8,ha)]),f("p",ya,[f("span",ga,C(e.name),1)]),f("a",{href:(l=e.zekamashi_id,`https://zekamashi.net/kancolle-kouryaku/${l}`),target:"_blank",rel:"noopener noreferrer","aria-label":"ぜかましURL"},a[1]||(a[1]=[f("img",{src:"./quest/zekamashi.ico",class:"zekamashi-icon",alt:"zekamashi icon"},null,-1)]),8,ba)]),f("div",_a,[f("div",ka,[a[3]||(a[3]=f("span",{class:"tree-line"},null,-1)),f("p",wa,[a[2]||(a[2]=f("span",{class:"condition-label"},"編成条件",-1)),f("span",{class:Y(["condition-state",(n=e.composition_condition_state,"No_conditions"===n?"condition-none":n?"condition-ok":"condition-ng")])},C(d(e.composition_condition_state)),3)])]),f("div",Ca,[a[5]||(a[5]=f("span",{class:"tree-line"},null,-1)),f("p",Ba,[a[4]||(a[4]=f("span",{class:"area-label"},"到達率",-1)),f("span",Sa,[(v(!0),p(m,null,w(e.area_sim_results,((a,n)=>(v(),p(m,{key:a.area_id},[f("span",{class:"area-id",onPointerdown:e=>{return n=a.area_id,t.UPDATE_SELECTED_AREA(n),void t.SAVE_DATA();var n}},C(a.area_id),41,xa),f("span",za," : "+C(a.reach_rate)+"% ",1),n<e.area_sim_results.length-1?(v(),p("span",Va," , ")):b("",!0)],64)))),128))])])])])]);var n,l})),128))]))}}),[["__scopeId","data-v-15b7bb6e"]]),$a=j({border:[Boolean,Number,String]},"border");function Ia(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H();return{borderClasses:u((()=>{const a=Q(e)?e.value:e.border,n=[];if(!0===a||""===a)n.push(`${t}--border`);else if("string"==typeof a||0===a)for(const e of String(a).split(" "))n.push(`border-${e}`);return n}))}}const Ea=[null,"default","comfortable","compact"],Ra=j({density:{type:String,default:"default",validator:e=>Ea.includes(e)}},"density");function Ta(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H();return{densityClasses:u((()=>`${t}--density-${e.density}`))}}const Ma=["elevated","flat","tonal","outlined","text","plain"];const Da=j({color:String,variant:{type:String,default:"elevated",validator:e=>Ma.includes(e)}},"variant");const Wa=j({baseColor:String,divided:Boolean,...$a(),...U(),...Ra(),...J(),...K(),...G(),...Z(),...Da()},"VBtnGroup"),La=ee()({name:"VBtnGroup",props:Wa(),setup(e,t){let{slots:a}=t;const{themeClasses:n}=te(e),{densityClasses:l}=Ta(e),{borderClasses:o}=Ia(e),{elevationClasses:s}=ae(e),{roundedClasses:i}=ne(e);le({VBtn:{height:"auto",baseColor:oe(e,"baseColor"),color:oe(e,"color"),density:oe(e,"density"),flat:!0,variant:oe(e,"variant")}}),se((()=>_(e.tag,{class:["v-btn-group",{"v-btn-group--divided":e.divided},n.value,o.value,l.value,s.value,i.value,e.class],style:e.style},a)))}}),qa=Symbol.for("vuetify:v-btn-toggle"),Pa=j({...Wa(),...ie()},"VBtnToggle");ee()({name:"VBtnToggle",props:Pa(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const{isSelected:n,next:l,prev:o,select:s,selected:i}=re(e,qa);return se((()=>{const t=La.filterProps(e);return _(La,ue({class:["v-btn-toggle",e.class]},t,{style:e.style}),{default:()=>{var e;return[null==(e=a.default)?void 0:e.call(a,{isSelected:n,next:l,prev:o,select:s,selected:i})]}})})),{next:l,prev:o,select:s}}});const Oa=j({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...U(),...ve(),...G({tag:"div"}),...Z()},"VProgressCircular"),Na=ee()({name:"VProgressCircular",props:Oa(),setup(e,t){let{slots:n}=t;const s=2*Math.PI*20,i=a(),{themeClasses:r}=te(e),{sizeClasses:c,sizeStyles:d}=pe(e),{textColorClasses:v,textColorStyles:p}=fe(oe(e,"color")),{textColorClasses:f,textColorStyles:m}=fe(oe(e,"bgColor")),{intersectionRef:h,isIntersecting:y}=function(e,t){const n=a(),s=ce(!1);if(de){const e=new IntersectionObserver((e=>{s.value=!!e.find((e=>e.isIntersecting))}),t);l((()=>{e.disconnect()})),o(n,((t,a)=>{a&&(e.unobserve(a),s.value=!1),t&&e.observe(t)}),{flush:"post"})}return{intersectionRef:n,isIntersecting:s}}(),{resizeRef:g,contentRect:b}=ot(),k=u((()=>Math.max(0,Math.min(100,parseFloat(e.modelValue))))),w=u((()=>Number(e.width))),C=u((()=>d.value?Number(e.size):b.value?b.value.width:Math.max(w.value,32))),B=u((()=>20/(1-w.value/C.value)*2)),S=u((()=>w.value/C.value*B.value)),x=u((()=>me((100-k.value)/100*s)));return he((()=>{h.value=i.value,g.value=i.value})),se((()=>_(e.tag,{ref:i,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":y.value,"v-progress-circular--disable-shrink":"disable-shrink"===e.indeterminate},r.value,c.value,v.value,e.class],style:[d.value,p.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:k.value},{default:()=>[_("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${B.value} ${B.value}`},[_("circle",{class:["v-progress-circular__underlay",f.value],style:m.value,fill:"transparent",cx:"50%",cy:"50%",r:20,"stroke-width":S.value,"stroke-dasharray":s,"stroke-dashoffset":0},null),_("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:20,"stroke-width":S.value,"stroke-dasharray":s,"stroke-dashoffset":x.value},null)]),n.default&&_("div",{class:"v-progress-circular__content"},[n.default({value:k.value})])]}))),{}}}),Ya={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},ja=j({location:String},"location");function Ha(t){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;const{isRtl:l}=ye(),o=u((()=>{if(!t.location)return{};const{side:o,align:s}=function(t,a){let[n,l]=t.split(" ");return l||(l=e(at,n)?"start":e(nt,n)?"top":"center"),{side:lt(n,a),align:lt(l,a)}}(t.location.split(" ").length>1?t.location:`${t.location} center`,l.value);function i(e){return n?n(e):0}const r={};return"center"!==o&&(a?r[Ya[o]]=`calc(100% - ${i(o)}px)`:r[o]=0),"center"!==s?a?r[Ya[s]]=`calc(100% - ${i(s)}px)`:r[s]=0:("center"===o?r.top=r.left="50%":r[{top:"left",bottom:"left",left:"top",right:"top"}[o]]="50%",r.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[o]),r}));return{locationStyles:o}}const Qa=j({loading:[Boolean,String]},"loader");const Xa=["static","relative","fixed","absolute","sticky"],Fa=j({position:{type:String,validator:e=>Xa.includes(e)}},"position");function Ua(e,t){var a,n;const l=ge("RouterLink"),o=u((()=>!(!e.href&&!e.to))),s=u((()=>(null==o?void 0:o.value)||be(t,"click")||be(e,"click")));if("string"==typeof l||!("useLink"in l)){const t=oe(e,"href");return{isLink:o,isClickable:s,href:t,linkProps:_e({href:t})}}const i=u((()=>({...e,to:oe((()=>e.to||""))}))),r=l.useLink(i.value),c=u((()=>e.to?r:void 0)),d=function(){const e=we("useRoute");return u((()=>{var t;return null==(t=null==e?void 0:e.proxy)?void 0:t.$route}))}(),v=u((()=>{var t,a,n;return!!c.value&&(e.exact?d.value?(null==(n=c.value.isExactActive)?void 0:n.value)&&ke(c.value.route.value.query,d.value.query):(null==(a=c.value.isExactActive)?void 0:a.value)??!1:(null==(t=c.value.isActive)?void 0:t.value)??!1)})),p=u((()=>{var t;return e.to?null==(t=c.value)?void 0:t.route.value.href:e.href}));return{isLink:o,isClickable:s,isActive:v,route:null==(a=c.value)?void 0:a.route,navigate:null==(n=c.value)?void 0:n.navigate,href:p,linkProps:_e({href:p,"aria-current":u((()=>v.value?"page":void 0))})}}const Ja=j({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");const Ka=j({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:qa},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:Be,appendIcon:Be,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...$a(),...U(),...Ra(),...Se(),...J(),...xe(),...Qa(),...ja(),...Fa(),...K(),...Ja(),...ve(),...G({tag:"button"}),...Z(),...Da({variant:"elevated"})},"VBtn"),Ga=ee()({name:"VBtn",props:Ka(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:a,slots:n}=t;const{themeClasses:l}=te(e),{borderClasses:s}=Ia(e),{densityClasses:i}=Ta(e),{dimensionStyles:r}=ze(e),{elevationClasses:c}=ae(e),{loaderClasses:d}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H();return{loaderClasses:u((()=>({[`${t}--loading`]:e.loading})))}}(e),{locationStyles:v}=Ha(e),{positionClasses:p}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H();return{positionClasses:u((()=>e.position?`${t}--${e.position}`:void 0))}}(e),{roundedClasses:f}=ne(e),{sizeClasses:y,sizeStyles:g}=pe(e),b=Ve(e,e.symbol,!1),k=Ua(e,a),w=u((()=>{var t;return void 0!==e.active?e.active:k.isLink.value?null==(t=k.isActive)?void 0:t.value:null==b?void 0:b.isSelected.value})),C=u((()=>w.value?e.activeColor??e.color:e.color)),B=u((()=>{var t,a;return{color:(null==b?void 0:b.isSelected.value)&&(!k.isLink.value||(null==(t=k.isActive)?void 0:t.value))||!b||(null==(a=k.isActive)?void 0:a.value)?C.value??e.baseColor:e.baseColor,variant:e.variant}})),{colorClasses:S,colorStyles:x,variantClasses:z}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H();const a=u((()=>{const{variant:a}=X(e);return`${t}--variant-${a}`})),{colorClasses:n,colorStyles:l}=F(u((()=>{const{variant:t,color:a}=X(e);return{[["elevated","flat"].includes(t)?"background":"text"]:a}})));return{colorClasses:n,colorStyles:l,variantClasses:a}}(B),V=u((()=>(null==b?void 0:b.disabled.value)||e.disabled)),A=u((()=>"elevated"===e.variant&&!(e.disabled||e.flat||e.border))),$=u((()=>{if(void 0!==e.value&&"symbol"!=typeof e.value)return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value}));function I(e){var t;V.value||k.isLink.value&&(e.metaKey||e.ctrlKey||e.shiftKey||0!==e.button||"_blank"===a.target)||(null==(t=k.navigate)||t.call(k,e),null==b||b.toggle())}return function(e,t){o((()=>{var t;return null==(t=e.isActive)?void 0:t.value}),(a=>{e.isLink.value&&a&&t&&Ce((()=>{t(!0)}))}),{immediate:!0})}(k,null==b?void 0:b.select),se((()=>{const t=k.isLink.value?"a":e.tag,a=!(!e.prependIcon&&!n.prepend),o=!(!e.appendIcon&&!n.append),u=!(!e.icon||!0===e.icon);return h(_(t,ue({type:"a"===t?void 0:"button",class:["v-btn",null==b?void 0:b.selectedClass.value,{"v-btn--active":w.value,"v-btn--block":e.block,"v-btn--disabled":V.value,"v-btn--elevated":A.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--readonly":e.readonly,"v-btn--slim":e.slim,"v-btn--stacked":e.stacked},l.value,s.value,S.value,i.value,c.value,d.value,p.value,f.value,y.value,z.value,e.class],style:[x.value,r.value,v.value,g.value,e.style],"aria-busy":!!e.loading||void 0,disabled:V.value||void 0,tabindex:e.loading||e.readonly?-1:void 0,onClick:I,value:$.value},k.linkProps),{default:()=>{var t,l;return[(l="v-btn",_(m,null,[_("span",{key:"overlay",class:`${l}__overlay`},null),_("span",{key:"underlay",class:`${l}__underlay`},null)])),!e.icon&&a&&_("span",{key:"prepend",class:"v-btn__prepend"},[n.prepend?_(Ie,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},n.prepend):_($e,{key:"prepend-icon",icon:e.prependIcon},null)]),_("span",{class:"v-btn__content","data-no-activator":""},[!n.default&&u?_($e,{key:"content-icon",icon:e.icon},null):_(Ie,{key:"content-defaults",disabled:!u,defaults:{VIcon:{icon:e.icon}}},{default:()=>{var t;return[(null==(t=n.default)?void 0:t.call(n))??e.text]}})]),!e.icon&&o&&_("span",{key:"append",class:"v-btn__append"},[n.append?_(Ie,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},n.append):_($e,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&_("span",{key:"loader",class:"v-btn__loader"},[(null==(t=n.loader)?void 0:t.call(n))??_(Na,{color:"boolean"==typeof e.loading?void 0:e.loading,indeterminate:!0,width:"2"},null)])]}}),[[Ae,!V.value&&e.ripple,"",{center:!!e.icon}]])})),{group:b}}}),Za=Symbol("Forwarded refs");function en(e,t){let a=e;for(;a;){const e=Reflect.getOwnPropertyDescriptor(a,t);if(e)return e;a=Object.getPrototypeOf(a)}}const tn=Symbol.for("vuetify:v-tabs"),an=j({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...Ee(Ka({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),nn=ee()({name:"VTab",props:an(),setup(e,t){let{slots:n,attrs:l}=t;const{textColorClasses:o,textColorStyles:s}=fe(e,"sliderColor"),i=a(),r=a(),c=u((()=>"horizontal"===e.direction)),d=u((()=>{var e,t;return(null==(t=null==(e=i.value)?void 0:e.group)?void 0:t.isSelected.value)??!1}));function v(e){var t,a;let{value:n}=e;if(n){const e=null==(a=null==(t=i.value)?void 0:t.$el.parentElement)?void 0:a.querySelector(".v-tab--selected .v-tab__slider"),n=r.value;if(!e||!n)return;const l=getComputedStyle(e).color,o=e.getBoundingClientRect(),s=n.getBoundingClientRect(),u=c.value?"x":"y",d=c.value?"X":"Y",v=c.value?"right":"bottom",p=c.value?"width":"height",f=o[u]>s[u]?o[v]-s[v]:o[u]-s[u],m=Math.sign(f)>0?c.value?"right":"bottom":Math.sign(f)<0?c.value?"left":"top":"center",h=(Math.abs(f)+(Math.sign(f)<0?o[p]:s[p]))/Math.max(o[p],s[p])||0,y=1.5;!function(e,t,a){if(void 0===e.animate)return{finished:Promise.resolve()};let n;try{n=e.animate(t,a)}catch(l){return{finished:Promise.resolve()}}void 0===n.finished&&(n.finished=new Promise((e=>{n.onfinish=()=>{e(n)}})))}(n,{backgroundColor:[l,"currentcolor"],transform:[`translate${d}(${f}px) scale${d}(${o[p]/s[p]||0})`,`translate${d}(${f/y}px) scale${d}(${(h-1)/y+1})`,"none"],transformOrigin:Array(3).fill(m)},{duration:225,easing:"cubic-bezier(0.4, 0, 0.2, 1)"})}}return se((()=>{const t=Ga.filterProps(e);return _(Ga,ue({symbol:tn,ref:i,class:["v-tab",e.class],style:e.style,tabindex:d.value?0:-1,role:"tab","aria-selected":String(d.value),active:!1},t,l,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":v}),{...n,default:()=>{var t;return _(m,null,[(null==(t=n.default)?void 0:t.call(n))??e.text,!e.hideSlider&&_("div",{ref:r,class:["v-tab__slider",o.value],style:s.value},null)])}})})),function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return e[Za]=a,new Proxy(e,{get(e,t){if(Reflect.has(e,t))return Reflect.get(e,t);if("symbol"!=typeof t&&!t.startsWith("$")&&!t.startsWith("__"))for(const n of a)if(n.value&&Reflect.has(n.value,t)){const e=Reflect.get(n.value,t);return"function"==typeof e?e.bind(n.value):e}},has(e,t){if(Reflect.has(e,t))return!0;if("symbol"==typeof t||t.startsWith("$")||t.startsWith("__"))return!1;for(const n of a)if(n.value&&Reflect.has(n.value,t))return!0;return!1},set(e,t,n){if(Reflect.has(e,t))return Reflect.set(e,t,n);if("symbol"==typeof t||t.startsWith("$")||t.startsWith("__"))return!1;for(const l of a)if(l.value&&Reflect.has(l.value,t))return Reflect.set(l.value,t,n);return!1},getOwnPropertyDescriptor(e,t){var n;const l=Reflect.getOwnPropertyDescriptor(e,t);if(l)return l;if("symbol"!=typeof t&&!t.startsWith("$")&&!t.startsWith("__")){for(const e of a){if(!e.value)continue;const a=en(e.value,t)??("_"in e.value?en(null==(n=e.value._)?void 0:n.setupState,t):void 0);if(a)return a}for(const e of a){const a=e.value&&e.value[Za];if(!a)continue;const n=a.slice();for(;n.length;){const e=n.shift(),a=en(e.value,t);if(a)return a;const l=e.value&&e.value[Za];l&&n.push(...l)}}}}})}({},i)}});function ln(e,t){var a;const n=e.changedTouches[0];t.touchendX=n.clientX,t.touchendY=n.clientY,null==(a=t.end)||a.call(t,{originalEvent:e,...t}),(e=>{const{touchstartX:t,touchendX:a,touchstartY:n,touchendY:l}=e;e.offsetX=a-t,e.offsetY=l-n,Math.abs(e.offsetY)<.5*Math.abs(e.offsetX)&&(e.left&&a<t-16&&e.left(e),e.right&&a>t+16&&e.right(e)),Math.abs(e.offsetX)<.5*Math.abs(e.offsetY)&&(e.up&&l<n-16&&e.up(e),e.down&&l>n+16&&e.down(e))})(t)}const on={mounted:function(e,t){var a;const n=t.value,l=(null==n?void 0:n.parent)?e.parentElement:e,o=(null==n?void 0:n.options)??{passive:!0},s=null==(a=t.instance)?void 0:a.$.uid;if(!l||!s)return;const i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:e=>function(e,t){var a;const n=e.changedTouches[0];t.touchstartX=n.clientX,t.touchstartY=n.clientY,null==(a=t.start)||a.call(t,{originalEvent:e,...t})}(e,t),touchend:e=>ln(e,t),touchmove:e=>function(e,t){var a;const n=e.changedTouches[0];t.touchmoveX=n.clientX,t.touchmoveY=n.clientY,null==(a=t.move)||a.call(t,{originalEvent:e,...t})}(e,t)}}(t.value);l._touchHandlers=l._touchHandlers??Object.create(null),l._touchHandlers[s]=i,Re(i).forEach((e=>{l.addEventListener(e,i[e],o)}))},unmounted:function(e,t){var a,n;const l=(null==(a=t.value)?void 0:a.parent)?e.parentElement:e,o=null==(n=t.instance)?void 0:n.$.uid;if(!(null==l?void 0:l._touchHandlers)||!o)return;const s=l._touchHandlers[o];Re(s).forEach((e=>{l.removeEventListener(e,s[e])})),delete l._touchHandlers[o]}},sn=Symbol.for("vuetify:v-window"),rn=Symbol.for("vuetify:v-window-group"),un=j({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>"boolean"==typeof e||"hover"===e},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...U(),...G(),...Z()},"VWindow"),cn=ee()({name:"VWindow",directives:{Touch:on},props:un(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:l}=te(e),{isRtl:s}=ye(),{t:i}=Te(),r=re(e,rn),c=a(),d=u((()=>s.value?!e.reverse:e.reverse)),v=ce(!1),p=u((()=>`v-window-${"vertical"===e.direction?"y":"x"}${(d.value?!v.value:v.value)?"-reverse":""}-transition`)),f=ce(0),m=a(void 0),y=u((()=>r.items.value.findIndex((e=>r.selected.value.includes(e.id)))));o(y,((e,t)=>{const a=r.items.value.length,n=a-1;v.value=a<=2?e<t:e===n&&0===t||(0!==e||t!==n)&&e<t})),Me(sn,{transition:p,isReversed:v,transitionCount:f,transitionHeight:m,rootRef:c});const g=u((()=>e.continuous||0!==y.value)),b=u((()=>e.continuous||y.value!==r.items.value.length-1));function k(){g.value&&r.prev()}function w(){b.value&&r.next()}const C=u((()=>{const t=[],a={icon:s.value?e.nextIcon:e.prevIcon,class:"v-window__"+(d.value?"right":"left"),onClick:r.prev,"aria-label":i("$vuetify.carousel.prev")};t.push(g.value?n.prev?n.prev({props:a}):_(Ga,a,null):_("div",null,null));const l={icon:s.value?e.prevIcon:e.nextIcon,class:"v-window__"+(d.value?"left":"right"),onClick:r.next,"aria-label":i("$vuetify.carousel.next")};return t.push(b.value?n.next?n.next({props:l}):_(Ga,l,null):_("div",null,null)),t})),B=u((()=>{if(!1===e.touch)return e.touch;return{...{left:()=>{d.value?k():w()},right:()=>{d.value?w():k()},start:e=>{let{originalEvent:t}=e;t.stopPropagation()}},...!0===e.touch?{}:e.touch}}));return se((()=>h(_(e.tag,{ref:c,class:["v-window",{"v-window--show-arrows-on-hover":"hover"===e.showArrows},l.value,e.class],style:e.style},{default:()=>{var t,a;return[_("div",{class:"v-window__container",style:{height:m.value}},[null==(t=n.default)?void 0:t.call(n,{group:r}),!1!==e.showArrows&&_("div",{class:"v-window__controls"},[C.value])]),null==(a=n.additional)?void 0:a.call(n,{group:r})]}}),[[De("touch"),B.value]]))),{group:r}}}),dn=j({...Ee(un(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),vn=ee()({name:"VTabsWindow",props:dn(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const n=We(tn,null),l=Le(e,"modelValue"),o=u({get(){var e;return null==l.value&&n?null==(e=n.items.value.find((e=>n.selected.value.includes(e.id))))?void 0:e.value:l.value},set(e){l.value=e}});return se((()=>{const t=cn.filterProps(e);return _(cn,ue({_as:"VTabsWindow"},t,{modelValue:o.value,"onUpdate:modelValue":e=>o.value=e,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),a)})),{}}});const pn=(e,t)=>{let{slots:a}=t;const{transition:n,disabled:l,group:o,...s}=e,{component:i=(o?Oe:Ne),...r}="object"==typeof n?n:{};return Pe(i,ue("string"==typeof n?{name:l?"":n}:r,"string"==typeof n?{}:Object.fromEntries(Object.entries({disabled:l,group:o}).filter((e=>{let[t,a]=e;return void 0!==a}))),s),a)},fn=j({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...U(),...xe(),...Ye()},"VWindowItem"),mn=ee()({name:"VWindowItem",directives:{Touch:on},props:fn(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:a}=t;const n=We(sn),l=Ve(e,rn),{isBooted:o}=function(){const e=ce(!1);return qe((()=>{window.requestAnimationFrame((()=>{e.value=!0}))})),{ssrBootStyles:u((()=>e.value?void 0:{transition:"none !important"})),isBooted:s(e)}}();if(!n||!l)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const i=ce(!1),r=u((()=>o.value&&(n.isReversed.value?!1!==e.reverseTransition:!1!==e.transition)));function c(){i.value&&n&&(i.value=!1,n.transitionCount.value>0&&(n.transitionCount.value-=1,0===n.transitionCount.value&&(n.transitionHeight.value=void 0)))}function d(){var e;!i.value&&n&&(i.value=!0,0===n.transitionCount.value&&(n.transitionHeight.value=me(null==(e=n.rootRef.value)?void 0:e.clientHeight)),n.transitionCount.value+=1)}function v(){c()}function p(e){i.value&&Ce((()=>{r.value&&i.value&&n&&(n.transitionHeight.value=me(e.clientHeight))}))}const f=u((()=>{const t=n.isReversed.value?e.reverseTransition:e.transition;return!!r.value&&{name:"string"!=typeof t?n.transition.value:t,onBeforeEnter:d,onAfterEnter:c,onEnterCancelled:v,onBeforeLeave:d,onAfterLeave:c,onLeaveCancelled:v,onEnter:p}})),{hasContent:m}=je(e,l.isSelected);return se((()=>_(pn,{transition:f.value,disabled:!o.value},{default:()=>{var t;return[h(_("div",{class:["v-window-item",l.selectedClass.value,e.class],style:e.style},[m.value&&(null==(t=a.default)?void 0:t.call(a))]),[[He,l.isSelected.value]])]}}))),{groupItem:l}}}),hn=j({...fn()},"VTabsWindowItem"),yn=ee()({name:"VTabsWindowItem",props:hn(),setup(e,t){let{slots:a}=t;return se((()=>{const t=mn.filterProps(e);return _(mn,ue({_as:"VTabsWindowItem"},t,{class:["v-tabs-window-item",e.class],style:e.style}),a)})),{}}});function gn(e,t){return(null==t?void 0:t[e?"scrollWidth":"scrollHeight"])||0}function bn(e,t,a){if(!a)return 0;const{scrollLeft:n,offsetWidth:l,scrollWidth:o}=a;return e?t?o-l+n:n:a.scrollTop}function _n(e,t){return(null==t?void 0:t[e?"offsetWidth":"offsetHeight"])||0}function kn(e,t){return(null==t?void 0:t[e?"offsetLeft":"offsetTop"])||0}const wn=Symbol.for("vuetify:v-slide-group"),Cn=j({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:wn},nextIcon:{type:Be,default:"$next"},prevIcon:{type:Be,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>"boolean"==typeof e||["always","desktop","mobile"].includes(e)},...U(),...Qe({mobile:null}),...G(),...ie({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Bn=ee()({name:"VSlideGroup",props:Cn(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const{isRtl:l}=ye(),{displayClasses:s,mobile:i}=Xe(e),r=re(e,e.symbol),c=ce(!1),d=ce(0),v=ce(0),p=ce(0),f=u((()=>"horizontal"===e.direction)),{resizeRef:m,contentRect:h}=ot(),{resizeRef:y,contentRect:g}=ot(),b=Fe(),k=u((()=>({container:m.el,duration:200,easing:"easeOutQuart"}))),w=u((()=>r.selected.value.length?r.items.value.findIndex((e=>e.id===r.selected.value[0])):-1)),C=u((()=>r.selected.value.length?r.items.value.findIndex((e=>e.id===r.selected.value[r.selected.value.length-1])):-1));if(n){let t=-1;o((()=>[r.selected.value,h.value,g.value,f.value]),(()=>{cancelAnimationFrame(t),t=requestAnimationFrame((()=>{if(h.value&&g.value){const e=f.value?"width":"height";v.value=h.value[e],p.value=g.value[e],c.value=v.value+1<p.value}if(w.value>=0&&y.el){S(y.el.children[C.value],e.centerActive)}}))}))}const B=ce(!1);function S(e,t){let a=0;a=t?function(e){let{selectedElement:t,containerElement:a,isHorizontal:n}=e;const l=_n(n,a);return kn(n,t)-l/2+_n(n,t)/2}({containerElement:m.el,isHorizontal:f.value,selectedElement:e}):function(e){let{selectedElement:t,containerElement:a,isRtl:n,isHorizontal:l}=e;const o=_n(l,a),s=bn(l,n,a),i=_n(l,t),r=kn(l,t),u=.4*i;return s>r?r-u:s+o<r+i?r-o+i+u:s}({containerElement:m.el,isHorizontal:f.value,isRtl:l.value,selectedElement:e}),x(a)}function x(e){if(!n||!m.el)return;const t=_n(f.value,m.el),a=bn(f.value,l.value,m.el);if(!(gn(f.value,m.el)<=t||Math.abs(e-a)<16)){if(f.value&&l.value&&m.el){const{scrollWidth:t,offsetWidth:a}=m.el;e=t-a-e}f.value?b.horizontal(e,k.value):b(e,k.value)}}function z(e){const{scrollTop:t,scrollLeft:a}=e.target;d.value=f.value?a:t}function V(e){if(B.value=!0,c.value&&y.el)for(const t of e.composedPath())for(const e of y.el.children)if(e===t)return void S(e)}function A(e){B.value=!1}let $=!1;function I(e){var t;$||B.value||e.relatedTarget&&(null==(t=y.el)?void 0:t.contains(e.relatedTarget))||T(),$=!1}function E(){$=!0}function R(e){function t(t){e.preventDefault(),T(t)}y.el&&(f.value?"ArrowRight"===e.key?t(l.value?"prev":"next"):"ArrowLeft"===e.key&&t(l.value?"next":"prev"):"ArrowDown"===e.key?t("next"):"ArrowUp"===e.key&&t("prev"),"Home"===e.key?t("first"):"End"===e.key&&t("last"))}function T(e){var t,a;if(!y.el)return;let n;if(e)if("next"===e){if(n=null==(t=y.el.querySelector(":focus"))?void 0:t.nextElementSibling,!n)return T("first")}else if("prev"===e){if(n=null==(a=y.el.querySelector(":focus"))?void 0:a.previousElementSibling,!n)return T("last")}else"first"===e?n=y.el.firstElementChild:"last"===e&&(n=y.el.lastElementChild);else{n=Je(y.el)[0]}n&&n.focus({preventScroll:!0})}function M(e){const t=f.value&&l.value?-1:1,a=("prev"===e?-t:t)*v.value;let n=d.value+a;if(f.value&&l.value&&m.el){const{scrollWidth:e,offsetWidth:t}=m.el;n+=e-t}x(n)}const D=u((()=>({next:r.next,prev:r.prev,select:r.select,isSelected:r.isSelected}))),W=u((()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!i.value;case!0:return c.value||Math.abs(d.value)>0;case"mobile":return i.value||c.value||Math.abs(d.value)>0;default:return!i.value&&(c.value||Math.abs(d.value)>0)}})),L=u((()=>Math.abs(d.value)>1)),q=u((()=>{if(!m.value)return!1;const e=gn(f.value,m.el),t=function(e,t){return(null==t?void 0:t[e?"clientWidth":"clientHeight"])||0}(f.value,m.el);return e-t-Math.abs(d.value)>1}));return se((()=>_(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!f.value,"v-slide-group--has-affixes":W.value,"v-slide-group--is-overflowing":c.value},s.value,e.class],style:e.style,tabindex:B.value||r.selected.value.length?-1:0,onFocus:I},{default:()=>{var t,n,o;return[W.value&&_("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!L.value}],onMousedown:E,onClick:()=>L.value&&M("prev")},[(null==(t=a.prev)?void 0:t.call(a,D.value))??_(Ue,null,{default:()=>[_($e,{icon:l.value?e.nextIcon:e.prevIcon},null)]})]),_("div",{key:"container",ref:m,class:"v-slide-group__container",onScroll:z},[_("div",{ref:y,class:"v-slide-group__content",onFocusin:V,onFocusout:A,onKeydown:R},[null==(n=a.default)?void 0:n.call(a,D.value)])]),W.value&&_("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!q.value}],onMousedown:E,onClick:()=>q.value&&M("next")},[(null==(o=a.next)?void 0:o.call(a,D.value))??_(Ue,null,{default:()=>[_($e,{icon:l.value?e.prevIcon:e.nextIcon},null)]})])]}}))),{selected:r.selected,scrollTo:M,scrollOffset:d,focus:T,hasPrev:L,hasNext:q}}});const Sn=j({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Cn({mandatory:"force",selectedClass:"v-tab-item--selected"}),...Ra(),...G()},"VTabs"),xn=ee()({name:"VTabs",props:Sn(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:a,slots:n}=t;const l=Le(e,"modelValue"),o=u((()=>function(e){return e?e.map((e=>Ge(e)?e:{text:e,value:e})):[]}(e.items))),{densityClasses:s}=Ta(e),{backgroundColorClasses:i,backgroundColorStyles:r}=Ke(oe(e,"bgColor")),{scopeId:c}=function(){const e=we("useScopeId").vnode.scopeId;return{scopeId:e?{[e]:""}:void 0}}();return le({VTab:{color:oe(e,"color"),direction:oe(e,"direction"),stacked:oe(e,"stacked"),fixed:oe(e,"fixedTabs"),sliderColor:oe(e,"sliderColor"),hideSlider:oe(e,"hideSlider")}}),se((()=>{const t=Bn.filterProps(e),u=!!(n.window||e.items.length>0);return _(m,null,[_(Bn,ue(t,{modelValue:l.value,"onUpdate:modelValue":e=>l.value=e,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},s.value,i.value,e.class],style:[{"--v-tabs-height":me(e.height)},r.value,e.style],role:"tablist",symbol:tn},c,a),{default:()=>{var e;return[(null==(e=n.default)?void 0:e.call(n))??o.value.map((e=>{var t;return(null==(t=n.tab)?void 0:t.call(n,{item:e}))??_(nn,ue(e,{key:e.text,value:e.value}),{default:n[`tab.${e.value}`]?()=>{var t;return null==(t=n[`tab.${e.value}`])?void 0:t.call(n,{item:e})}:void 0})}))]}}),u&&_(vn,ue({modelValue:l.value,"onUpdate:modelValue":e=>l.value=e,key:"tabs-window"},c),{default:()=>{var e;return[o.value.map((e=>{var t;return(null==(t=n.item)?void 0:t.call(n,{item:e}))??_(yn,{value:e.value},{default:()=>{var t;return null==(t=n[`item.${e.value}`])?void 0:t.call(n,{item:e})}})})),null==(e=n.window)?void 0:e.call(n)]}})])})),{}}}),zn=B(i({__name:"Refference",setup(e){const t=r(),a=Ze(),n=u({get:()=>t.refferenceTabKey??"route",set:e=>{t.UPDATE_REFFERENCE_TAB_KEY(e),t.SAVE_DATA()}}),l=u((()=>a.isRefferenceVisible));return(e,t)=>l.value?(v(),p("div",{key:0,onPointerdown:t[2]||(t[2]=tt((()=>{}),["stop"])),class:"refference-container"},[_(xn,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),"align-tabs":"center","show-arrows":"",class:"tab-header",color:"#1976d2","bg-color":"primary"},{default:et((()=>[_(nn,{class:"custom-tab",value:"route"},{default:et((()=>t[3]||(t[3]=[g("経路")]))),_:1}),_(nn,{class:"custom-tab",value:"branch"},{default:et((()=>t[4]||(t[4]=[g("分岐条件")]))),_:1}),_(nn,{class:"custom-tab",value:"quest"},{default:et((()=>t[5]||(t[5]=[g("任務")]))),_:1})])),_:1},8,["modelValue"]),_(vn,{modelValue:n.value,"onUpdate:modelValue":t[1]||(t[1]=e=>n.value=e)},{default:et((()=>[_(yn,{value:"route"},{default:et((()=>[_(ft)])),_:1}),_(yn,{value:"branch"},{default:et((()=>[_(Ct)])),_:1}),_(yn,{value:"quest"},{default:et((()=>[_(Aa)])),_:1})])),_:1},8,["modelValue"])],32)):b("",!0)}}),[["__scopeId","data-v-57d46688"]]);export{zn as default};
